var log=null,$manifest$androidtargetSdkVersion=30,$manifest$cssAutoClassificator=!1,$manifest$cssDisableTransformations=!1,$manifest$cssDisableTransitions=!1,$manifest$disableAnimations=!1,$manifest$domain="echo.msk.ru",$manifest$expectRunContextEvent=!1,$manifest$html5$prefix="",$manifest$iconColor="#ffffff",$manifest$log$disable=!1,$manifest$requireExplicitRecursiveVisibilityStyle=!1,$manifest$requireVerticalTextAlignmentStyle=!1,$manifest$resolutionHeight=1080,$manifest$resolutionWidth=1920,$manifest$style$font$family="ProximaNova Regular",$manifest$style$font$lineHeight=1.2,$manifest$style$font$pixelSize=16,$manifest$style$font$pointSize=0,$manifest$style$font$weight=400,$manifest$system$fingerprint=!1,$manifest$title="echo",$manifest$trace$focus=!1,$manifest$trace$keys=!1,$manifest$trace$listeners=!1,$manifest$useNativeFocusForInput=!0,$manifest$version="1.1.0",$manifest$virtual$height=720,$manifest$virtual$width=1280,qml=function(){var i={},C=i;C.src||(C.src={});var d=C.src;C.core||(C.core={});var P=C.core;C.controls||(C.controls={});C.controls;C.controls.core||(C.controls.core={});var t=C.controls.core;C.controls.mixins||(C.controls.mixins={});var p=C.controls.mixins;C.controls.pure||(C.controls.pure={});C.controls.pure;C.controls.web||(C.controls.web={});var u=C.controls.web;C.controls.web.api||(C.controls.web.api={});var o=C.controls.web.api;C.video||(C.video={});C.video;C.video.html5||(C.video.html5={});C.video.html5;C.tizen||(C.tizen={});C.tizen;C.html5||(C.html5={});var r=C.html5;C.core.core=function(){var i=C;P.device=0,P.vendor="",P.__videoBackends={},"undefined"!=typeof navigator?(i.core.os=navigator.platform,i.core.userAgent=navigator.userAgent,i.core.language=navigator.language):(i.core.os="unknown",i.core.userAgent="Unknown");var t=function(t,e){i.core.userAgent.indexOf(t)<0||(i.core.vendor=e.vendor,i.core.device=e.device,i.core.os=e.os)};if(i.core.vendor||(t("Blackberry",{vendor:"blackberry",device:2,os:"blackberry"}),t("Android",{vendor:"google",device:2,os:"android"}),t("iPhone",{vendor:"apple",device:2,os:"iOS"}),t("iPad",{vendor:"apple",device:2,os:"iOS"}),t("iPod",{vendor:"apple",device:2,os:"iOS"})),0<=i.core.userAgent.indexOf("Chromium")?i.core.browser="Chromium":0<=i.core.userAgent.indexOf("Chrome")?i.core.browser="Chrome":0<=i.core.userAgent.indexOf("Opera")?i.core.browser="Opera":0<=i.core.userAgent.indexOf("Firefox")?i.core.browser="Firefox":0<=i.core.userAgent.indexOf("Safari")?i.core.browser="Safari":0<=i.core.userAgent.indexOf("MSIE")?i.core.browser="IE":0<=i.core.userAgent.indexOf("YaBrowser")?i.core.browser="Yandex":i.core.browser="",C._backend=function(){return C.html5.html},C.core.__locationBackend=function(){return C.html5.location},C.core.__localStorageBackend=function(){return C.html5.localstorage},C.core.__videoBackends.html5=function(){return C.video.html5.backend},C.core.__videoBackends.tizen=function(){return C.tizen.video},C.core.__deviceBackend=function(){return C.tizen.device},log=console.log.bind(console),"tizen"in window){log("[QML] Tizen"),i.core.vendor="samsung",i.core.device=1,i.core.os="tizen";var e=window.tizen.tvinputdevice;e?(e.registerKey("0"),e.registerKey("1"),e.registerKey("2"),e.registerKey("3"),e.registerKey("4"),e.registerKey("5"),e.registerKey("6"),e.registerKey("7"),e.registerKey("8"),e.registerKey("9"),e.registerKey("ColorF0Red"),e.registerKey("ColorF1Green"),e.registerKey("ColorF2Yellow"),e.registerKey("ColorF3Blue"),e.registerKey("ChannelUp"),e.registerKey("ChannelDown"),e.registerKey("MediaFastForward"),e.registerKey("MediaPlayPause"),e.registerKey("MediaRewind"),e.registerKey("MediaPlay"),e.registerKey("MediaStop"),e.registerKey("MediaPause")):log('"inputDevice" is undefined dont forget to add privilege: <tizen:privilege name="http://tizen.org/privilege/tv.inputdevice"/> into the "config.xml"'),i.closeApp=function(){window.tizen.application.getCurrentApplication().exit()},log("tizen initialized")}i.core.keyCodes={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",37:"Left",38:"Up",39:"Right",40:"Down",13:"Select",19:"Pause",403:"Red",404:"Green",405:"Yellow",406:"Blue",427:"ChannelUp",428:"ChannelDown",457:"Menu",415:"Play",413:"Stop",412:"Rewind",417:"FastForward",10252:"Pause",10009:"Back"},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,o=function(){},n=function(){return i.apply(this instanceof o&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,n.prototype=new o,n},null===log&&(log=function(){for(var t="",e=0;e<arguments.length;++e)t+=arguments[e]+" ";console.log(t)})),null===log&&(log=console.log.bind(console));var c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32","":"",transparent:"0000"};i.core.safeCall=function(e,i,o){return function(t){return function(t,e,i,o){try{return t.apply(e,i)}catch(t){o(t)}}(t,e,i,o)}},i.core.assign=function(t,e,i){for(var o=(e=e.split(".")).length-1,n=0;n<o;++n)t=t[e[n]];t[e[o]]=i},P.getKeyCodeByName=function(t){var e=P.keyCodes;for(var i in e)if(e[i]===t)return~~i};var o=P.CoreObject=function(t){this._local=Object.create(t?t._local:null)},n=o.prototype;n.componentName="core.CoreObject",n.constructor=o,n.$c=function(){},n.$s=function(){},n.__init=function(){var t={};this.$c(t),this.$s(t),this.completed()},n.__complete=function(){},n._get=function(t,e){if(t in this)return this[t];if(t in this._local)return this._local[t];if(e)return null;throw new Error("invalid property requested: '"+t+"'")};var l=P.Color=function(t){if(Array.isArray(t))return this.r=t[0],this.g=t[1],this.b=t[2],void(this.a=void 0!==t[3]?t[3]:255);if("string"!=typeof t)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+t,(new Error).stack);var e;if("#"===t[0])e=t.substring(1);else{if("rgba"===t.substring(0,4)){var i=t.indexOf("("),o=t.lastIndexOf(")");return t=t.substring(i+1,o).split(","),this.r=parseInt(t[0],10),this.g=parseInt(t[1],10),this.b=parseInt(t[2],10),void(this.a=Math.floor(255*parseFloat(t[3])))}e=c[t]}if(!e)return this.r=this.b=this.a=255,this.g=0,void log("invalid color specification: "+t,(new Error).stack);var n=e.length;if(3===n||4===n){var r=parseInt(e[0],16),a=parseInt(e[1],16),s=(i=parseInt(e[2],16),4===n?parseInt(e[3],16):15);this.r=r<<4|r,this.g=a<<4|a,this.b=i<<4|i,this.a=s<<4|s}else{if(6!==n&&8!==n)throw new Error("invalid color specification: "+t);this.r=parseInt(e.substring(0,2),16),this.g=parseInt(e.substring(2,4),16),this.b=parseInt(e.substring(4,6),16),this.a=8===n?parseInt(e.substring(6,8),16):255}};l.interpolate=function(t,e,i){t instanceof l||(t=new l(t)),e instanceof l||(e=new l(e));var o=function(t,e,i){return Math.floor(i*(t-e)+e)},n=o(t.r,e.r,i),r=o(t.g,e.g,i),a=o(t.b,e.b,i),s=o(t.a,e.a,i);return new l([n,r,a,s])},l.normalize=function(t){return t instanceof l?t:new l(t)};var r=l.prototype;r.constructor=P.Color,r.rgba=r.toString=function(){var t=this.a;return 255==t?"rgb("+this.r+","+this.g+","+this.b+")":"rgba("+this.r+","+this.g+","+this.b+","+t/255+")"};var a=function(t){var e=t>>4&15,i=15&t;return e+=9<e?87:48,i+=9<i?87:48,String.fromCharCode(e,i)};r.hex=function(){return"#"+a(this.r)+a(this.g)+a(this.b)+a(this.a)},r.ahex=function(){return"#"+a(this.a)+a(this.r)+a(this.g)+a(this.b)},i.addLazyProperty=function(e,o,n){var i=function(t){var e=t.__properties,i=e[o];return void 0!==i?(void 0===i.value&&(i.value=n(t)),i):e[o]=new s(n(t))};Object.defineProperty(e,o,{get:function(){return i(this).value},set:function(t){if(!i(this).forwardSet(this,o,t,null))throw new Error("could not set lazy property "+o+" in "+e.componentName)},enumerable:!0})},i.addConstProperty=function(t,e,i){Object.defineProperty(t,e,{get:function(){return i.call(this)},set:function(t){throw new Error("could not set const property")},enumerable:!0})};var s=function(t){this.value=t,this.onChanged=[]},h=(i.PropertyStorage=s).prototype;h.getAnimation=function(t,e){var i=this.animation;return i&&i.enabled()&&0<i.duration&&!i._native&&i._context._completed?i:null},h.__removeUpdater=function(t){for(var e=this.deps,i=0,o=e.length;i<o;i+=2){var n=e[i],r=e[i+1];n.removeOnChanged(r,t)}},h.removeUpdater=function(){var t=this.callback;void 0!==t&&(this.__removeUpdater(t),this.deps=this.callback=void 0)},h.replaceUpdater=function(t,e,i){var o=this.callback;void 0!==o&&this.__removeUpdater(o),this.callback=e,this.deps=i;for(var n=t.connectOnChanged,r=0,a=i.length;r<a;r+=2){var s=i[r],c=i[r+1];n.call(t,s,c,e)}e()},h.forwardSet=function(o,n,t,e){var i=this.getCurrentValue(e);if(null!==i&&i instanceof Object){var r;if(void 0===(r=i.defaultProperty))return!1;var a=i[r];return t!==a&&(i[r]=t,this.callOnChanged(o,n,t,a)),!0}if(t instanceof Object)return void 0===(r=t.defaultProperty)||o.connectOnChanged(t,r,function(t,e){var i=o.__properties[n];void 0!==i&&i.callOnChanged(o,n,t,e)}),!1},h.discard=function(){var t=this.getAnimation();t&&t.complete(),this.onChanged=[]},h.getSimpleValue=function(t){var e=this.value;return void 0!==e?e:t},h.getCurrentValue=function(t){var e=this.interpolatedValue;return void 0!==e?e:this.getSimpleValue(t)},h.setCurrentValue=function(t,e,i,o){var n=this.value;this.interpolatedValue=void 0,this.value=i,o&&this.callOnChanged(t,e,i,n)},h.set=function(t,e,i,o,n){var r=this.value;void 0===r&&(r=o),r!==i&&(this.forwardSet(t,e,i,o)||(this.value=i,n&&this.callOnChanged(t,e,i,r)))};var d=function(t,e,i,o){var n=t["__changed__"+e],r=void 0!==n,a=void 0!==o;if(r||a){var s=P.safeCall(t,[i],function(t){log("on "+e+" changed callback failed: ",t,t.stack)});r&&n.forEach(s),a&&o.forEach(s)}};h.callOnChanged=function(t,e,i){d(t,e,i,this.onChanged)},h.removeOnChanged=function(t){var e=this.onChanged,i=e.indexOf(t);if(0<=i)return e.splice(i,1)};var g=i.getDefaultValueForType=function(t){switch(t){case"enum":case"int":return 0;case"bool":return!1;case"real":return 0;case"string":return"";case"array":return[];case"color":case"Color":return"#0000";default:return t[0].toUpperCase()===t[0]?null:void 0}},_=(i.convertTo=function(t,e){switch(t){case"enum":case"int":return~~e;case"bool":return!!e;case"real":return+e;case"string":return String(e);default:return e}},i.getConvertFunction=function(t){switch(t){case"enum":case"int":return function(t){return~~t};case"bool":return function(t){return!!t};case"real":return function(t){return+t};case"string":return function(t){return String(t)};default:return function(t){return t}}});i.hasProperty=function(t,e){return e in t},i.addProperty=function(t,e,d,p){var u=_(e),i=function(t){switch(t){case"int":case"real":case"color":case"Color":return!0;default:return!1}}(e);p=void 0!==p?u(p):g(e);var f=function(t){var e=this.__properties,i=e[d];if(void 0===i){if(t===p)return;i=e[d]=new s(p)}return i};Object.defineProperty(t,d,{get:i?function(){var t=this.__properties[d];return void 0!==t?t.getCurrentValue(p):p}:function(){var t=this.__properties[d];return void 0!==t?t.getSimpleValue(p):p},set:i?function(t){t=u(t);var e=f.call(this,t);if(void 0!==e){var i=e.getAnimation();if(i&&e.value!==t){var o=this._context,n=o.backend;e.frameRequest&&n.cancelAnimationFrame(e.frameRequest),e.started=Date.now();var r=e.getCurrentValue(p),a=t,s=this,c=function(){e.frameRequest&&(n.cancelAnimationFrame(e.frameRequest),e.frameRequest=void 0),e.frameRequestDelayed&&(clearTimeout(e.frameRequestDelayed),e.frameRequestDelayed=void 0),i.complete=function(){},e.interpolatedValue=void 0,e.started=void 0,i.running=!1,e.callOnChanged(s,d,a,r)},l=i.duration,h=o.wrapNativeCallback(function(){var t=1*(Date.now()-e.started)/l;1<=t||!i.active()?c():(e.interpolatedValue=u(i.interpolate(a,r,t)),e.callOnChanged(s,d,e.getCurrentValue(p),r),e.frameRequest=n.requestAnimationFrame(h))});i.delay<=0?e.frameRequest=n.requestAnimationFrame(h):e.frameRequestDelayed=setTimeout(h,i.delay),i.running=!0,i.complete=c}e.set(this,d,t,p,!i)}}:function(t){t=u(t);var e=f.call(this,t);void 0!==e&&e.set(this,d,t,p,!0)},enumerable:!0})},i.addAliasProperty=function(i,o,t,e){var n=t();i.connectOnChanged(n,e,function(t){var e=i.__properties[o];void 0!==e?e.callOnChanged(i,o,t):d(i,o,t)}),Object.defineProperty(i,o,{get:function(){return n[e]},set:function(t){n[e]=t},enumerable:!0})},P.createSignal=function(t){return function(){this.emitWithArgs(t,arguments)}},P.createSignalForwarder=function(t,e){return function(){t.emitWithArgs(e,arguments)}},P.EventBinder=function(t){this.target=t,this.callbacks={},this.enabled=!1},P.EventBinder.prototype.on=function(t,e){if(t in this.callbacks)throw new Error("double adding of event ("+t+")");this.callbacks[t]=e,this.enabled&&this.target.on(t,e)},P.EventBinder.prototype.constructor=P.EventBinder,P.EventBinder.prototype.enable=function(t){if(t!=this.enabled){var e=this.target;if(this.enabled=t)for(var i in this.callbacks)e.on(i,this.callbacks[i]);else for(var i in this.callbacks)e.removeListener(i,this.callbacks[i])}};var p=function(t,e,i,o){var n=t+i,r=e[n];if(void 0!==r)if(e.hasOwnProperty(n))r.push(o);else{var a=r.slice();a.push(o),e[n]=a}else e[n]=[o]};P._protoOn=function(t,e,i){p("__on__",t,e,i)},P._protoOnChanged=function(t,e,i){p("__changed__",t,e,i)},P._protoOnKey=function(t,e,i){p("__key__",t,e,i)},P.callMethod=function(t,e){if(t){for(var i=arguments.length,o=new Array(i-1),n=0,r=1;r<i;)o[n++]=arguments[r++];e in t&&t[e].apply(t,o)}};var u=function(t){this._callback=t,this._queue=[],this.history=[]},f=u.prototype;return f.constructor=u,f.unshift=function(){var t=this._queue;t.unshift.apply(t,arguments)},f.push=function(){var t=this._queue;t.push.apply(t,arguments)},f.enumerate=function(t,e){var i=[this,e],o=this._queue;for(o.unshift(t);o.length;){var n=o.shift();if(this.history.push(n),this._callback.apply(n,i))break}},i.forEach=function(t,e,i){return new u(e).enumerate(t,i),i},i.createObject=function(t){t.__init();var e=t.parent;"_updateVisibilityForChild"in e&&e._updateVisibilityForChild(t,e.recursiveVisible),"_tryFocus"in e&&e._tryFocus(),t._context.scheduleComplete()},i}();var s=C.core.core,n=P.CoreObject,e=n.prototype,a=P.EventEmitter=function(t,e){n.apply(this,arguments),this._eventHandlers={},this._onConnections=[]},c=a.prototype=Object.create(e);c.constructor=a,c.componentName="core.EventEmitter",c.discard=function(){for(var t in this.removeAllOn(),this._eventHandlers)this.removeAllListeners(t)},c.removeAllOn=function(){for(var t=this._onConnections,e=0,i=t.length;e<i;e+=3)t[e].removeListener(t[e+1],t[e+2]);this._onConnections=[]},c.removeAllListeners=function(t){delete this._eventHandlers[t]},c.emit=function(e){if(""===e)throw new Error("empty listener name");var t=this["__on__"+e],i=this._eventHandlers[e];if(void 0!==t||void 0!==i){for(var o=arguments.length,n=new Array(o-1),r=0,a=1;a<o;)n[r++]=arguments[a++];var s=P.safeCall(this,n,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==t&&t.forEach(s),void 0!==i&&i.forEach(s)}},c.emitWithArgs=function(e,t){if(""===e)throw new Error("empty listener name");var i=this["__on__"+e],o=this._eventHandlers[e];if(void 0!==i||void 0!==o){var n=P.safeCall(this,t,function(t){log("event/signal "+e+" handler failed:",t,t.stack)});void 0!==i&&i.forEach(n),void 0!==o&&o.forEach(n)}},c.removeListener=function(t,e){if(t in this._eventHandlers&&null!=e&&""!==t){var i=this._eventHandlers[t],o=i.indexOf(e);0<=o?i.splice(o,1):$manifest$trace$listeners&&log("failed to remove listener for",t,"from",this),i.length||this.removeAllListeners(t)}else $manifest$trace$listeners&&log("invalid removeListener("+t+", "+e+") invocation",(new Error).stack)},c.on=function(t,e){if(""===t)throw new Error("empty listener name");var i=this._eventHandlers,o=i[t];void 0!==o?o.push(e):i[t]=[e]},c.connectOn=function(t,e,i){t.on(e,i),this._onConnections.push(t,e,i)},c.$c=function(t){e.$c.call(this,t.$b={})},c.$s=function(t){e.$s.call(this,t.$b),delete t.$b,this.completed()};var l=P.EventEmitter,h=l.prototype,f=P.Object=function(t,e){l.apply(this,arguments),this.parent=t,this.children=[],this.__properties={},this.__attachedObjects=[],t&&t.__attachedObjects.push(this);this._context=t?t._context:null;if(e){var i=this._local;i.model=e,i._delegate=this}this._changedConnections=[],this._properties={}},g=f.prototype=Object.create(h);g._propertyToStyle={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"},g.constructor=f,g.componentName="core.Object",g.completed=function(){this.__complete!==P.CoreObject.prototype.__complete&&this._registerDelayedAction("complete")&&this._context.__onCompleted(this)},g.discard=function(){this.removeAllOnChanged();var t=this.__attachedObjects;this.__attachedObjects=[],t.forEach(function(t){t.discard()});var e=this.parent;if(e){var i=e.__attachedObjects.indexOf(this);0<=i&&e.__attachedObjects.splice(i,1)}this.children=[],this._local={};var o=this.__properties;for(var n in o)o[n].discard();this._properties={},P.EventEmitter.prototype.discard.apply(this)},g.removeAllOnChanged=function(){for(var t=this._changedConnections,e=0,i=t.length;e<i;e+=3)t[e].removeOnChanged(t[e+1],t[e+2]);this._changedConnections=[]},g.getComponentPath=function(){for(var t=[],e=this;e;){var i=e.componentName;if(e.parent){var o=e.parent.children.indexOf(e);0<=o&&(i+="@"+o)}t.unshift(i),e=e.parent}return t.join(" → ")},g._tryFocus=function(){return!1},g.addChild=function(t){this.children.push(t)},g.removeChild=function(t){var e=this.children,i=e.indexOf(t);0<=i&&e.splice(i,1)},g.stopEvent=function(t){P.callMethod(t,"preventDefault"),P.callMethod(t,"stopImmediatePropagation")},g._cancelDelayedAction=function(t){this._registeredDelayedActions[t]=!1},g._setId=function(t){for(var e=this;e;)e._local[t]=this,e=e.parent},g._registerDelayedAction=function(t){var e=this._registeredDelayedActions;return void 0===e&&(e=this._registeredDelayedActions={}),!0!==e[t]&&(e[t]=!0)},g.resetAnimation=function(t){var e=this.__properties[t];if(void 0!==e&&e.animation){var i=e.animation;i.disable();var o=i.target;i.target=o,e.animation=null,i.enable(),i.target=o}},g._removeUpdater=function(t){var e=this.__properties[t];void 0!==e&&e.removeUpdater()},g.getAnimation=function(t){var e=this.__properties[t];return e?e.animation:null},g.updateAnimation=function(t,e){this._context.backend.setAnimation(this,t,e)},g.setAnimation=function(t,e){this._get("context",!0);if(!$manifest$disableAnimations){if(null===e)return this.resetAnimation(t);var i=this._context.backend;if("contentX"!==t&&"contentY"!==t||log("WARNING: you're trying to animate contentX/contentY property, this will always use animation frames, ignoring CSS transitions, please use content.x/content.y instead"),e.target=this,e.property=t,this._createPropertyStorage(t).animation=e,i.setAnimation(this,t,e))e._native=!0;else{var o=this[t];o&&"object"==typeof o&&"_animateAll"in o&&o._animateAll(e)}}},g.removeOnChanged=function(t,e){var i,o=this.__properties[t];void 0!==o&&(i=o.removeOnChanged(e)),$manifest$trace$listeners&&!i&&log("failed to remove changed listener for",t,"from",this)},g.onChanged=function(t,e){this._createPropertyStorage(t).onChanged.push(e)},g._replaceUpdater=function(t,e,i){this._createPropertyStorage(t).replaceUpdater(this,e,i)},g._createPropertyStorage=function(t,e){var i=this.__properties[t];return void 0!==i?i:this.__properties[t]=new P.core.PropertyStorage(e)},g._setProperty=function(t,e,i){var o=this._createPropertyStorage(t,e),n=o.animation;void 0!==n&&n.disable(),o.setCurrentValue(this,t,e,i),void 0!==n&&n.enable()},g.connectOnChanged=function(t,e,i){t.onChanged(e,i),this._changedConnections.push(t,e,i)},g.$c=function(t){h.$c.call(this,t.$b={})},g.$s=function(t){h.$s.call(this,t.$b),delete t.$b,this.completed()};var _=P.Object,y=_.prototype,m=P.Item=function(t,e){if(_.apply(this,arguments),this._pressedHandlers={},this._topPadding=0,t){if(this.element)throw new Error("double ctor call");this._createElement(this.getTag(),this.getClass())}},v=m.prototype=Object.create(y);v.constructor=m,v.componentName="core.Item",v.newBoundingBox=P.createSignal("newBoundingBox"),v.anchorsMarginsUpdated=P.createSignal("anchorsMarginsUpdated"),s.addProperty(v,"int","x"),s.addProperty(v,"int","y"),s.addProperty(v,"int","z"),s.addProperty(v,"int","width"),s.addProperty(v,"int","height"),s.addProperty(v,"bool","clip"),s.addLazyProperty(v,"radius",function(t,e){var i,o={lazy$radius:i=new P.Radius(t,e)};return i.$c(o.$c$lazy$radius={}),(i=o.lazy$radius).$s(o.$c$lazy$radius),delete o.$c$lazy$radius,i.completed(),i}),s.addProperty(v,"bool","fullscreen"),s.addProperty(v,"bool","focus"),s.addProperty(v,"bool","focused"),s.addProperty(v,"bool","activeFocus"),s.addProperty(v,"Item","focusedChild"),s.addProperty(v,"bool","visible",!0),s.addProperty(v,"bool","visibleInView",!0),s.addProperty(v,"bool","recursiveVisible",!1),s.addProperty(v,"real","opacity",1),s.addLazyProperty(v,"anchors",function(t,e){var i,o={lazy$anchors:i=new P.Anchors(t,e)};return i.$c(o.$c$lazy$anchors={}),(i=o.lazy$anchors).$s(o.$c$lazy$anchors),delete o.$c$lazy$anchors,i.completed(),i}),s.addLazyProperty(v,"effects",function(t,e){var i,o={lazy$effects:i=new P.Effects(t,e)};return i.$c(o.$c$lazy$effects={}),(i=o.lazy$effects).$s(o.$c$lazy$effects),delete o.$c$lazy$effects,i.completed(),i}),s.addLazyProperty(v,"transform",function(t,e){var i,o={lazy$transform:i=new P.Transform(t,e)};return i.$c(o.$c$lazy$transform={}),(i=o.lazy$transform).$s(o.$c$lazy$transform),delete o.$c$lazy$transform,i.completed(),i}),s.addProperty(v,"bool","cssTranslatePositioning"),s.addProperty(v,"bool","cssNullTranslate3D"),s.addProperty(v,"bool","cssDelegateAlwaysVisibleOnAcceleratedSurfaces",!0),s.addProperty(v,"bool","cssPointerTouchEvents",!1),s.addConstProperty(v,"left",function(){return[this,0]}),s.addConstProperty(v,"top",function(){return[this,1]}),s.addConstProperty(v,"right",function(){return[this,2]}),s.addConstProperty(v,"bottom",function(){return[this,3]}),s.addConstProperty(v,"horizontalCenter",function(){return[this,4]}),s.addConstProperty(v,"verticalCenter",function(){return[this,5]}),s.addProperty(v,"int","viewX"),s.addProperty(v,"int","viewY"),s.addProperty(v,"int","keyProcessDelay"),v.discard=function(){P.Object.prototype.discard.apply(this),this.focusedChild=null,this._pressedHandlers={},this.element&&this.element.discard()},v._tryFocus=function(){if(!this.visible)return!1;if(this.focusedChild&&this.focusedChild._tryFocus())return!0;for(var t=this.children,e=0;e<t.length;++e){var i=t[e];if(i._tryFocus())return this._focusChild(i),!0}return this.focus},v.setFocus=function(){this.forceActiveFocus()},v._updateOverflow=function(){this.style({overflow:this.clip?"hidden":"visible"})},v._updateStyle=function(){var t=this.element;t&&t.updateStyle()},v.toScreen=function(){for(var t=this,e=0,i=0,o=this.width+(this._borderWidthAdjust||0)+(this._borderInnerWidthAdjust||0),n=this.height+(this._borderHeightAdjust||0)+(this._borderInnerHeightAdjust||0);t;){if(e+=t.x+t.viewX+(t._borderXAdjust||0),i+=t.y+t.viewY+(t._borderYAdjust||0),t.hasOwnProperty("view")){var r=t.view.content;e+=r.x,i+=r.y}t=t.parent}return[e,i,e+o,i+n,e+o/2,i+n/2]},v.hasActiveFocus=function(){for(var t=this;t.parent;){if(t.parent.focusedChild!=t)return!1;t=t.parent}return!0},v.forceActiveFocus=function(){for(var t=this;t.parent;)t.parent._focusChild(t),t=t.parent;this._tryFocus()&&this._propagateFocusToParents()},v._propagateFocusToParents=function(){for(var t=this;t.parent&&(!t.parent.focusedChild||!t.parent.focusedChild.visible);)t.parent._focusChild(t),t=t.parent},v._updateVisibility=function(){var t=this.visible&&this.visibleInView,e=!0,i=this.view;if(void 0!==i){var o=i.content;o.cssDelegateAlwaysVisibleOnAcceleratedSurfaces&&(o.cssTranslatePositioning||o.cssNullTranslate3D)&&!$manifest$cssDisableTransformations&&(e=!1)}e&&this.style("visibility",t?"inherit":"hidden"),this.recursiveVisible=t&&(null===this.parent||this.parent.recursiveVisible)},v._setSizeAdjust=function(){var t=this.x+this.viewX+(this._borderXAdjust||0),e=this.y+this.viewY+(this._borderYAdjust||0);this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?(this.transform.translateX=t,this.transform.translateY=e):(this.style("left",t),this.style("top",e)),this.newBoundingBox()},v.getClass=function(){return""},v.getTag=function(){return"div"},v._focusTree=function(t){this.activeFocus=t,this.focusedChild&&this.focusedChild._focusTree(t)},v.addChild=function(t){P.Object.prototype.addChild.apply(this,arguments),t._tryFocus()&&t._propagateFocusToParents()},v._focusChild=function(t){if(t.parent!==this)throw new Error("invalid object passed as child");this.focusedChild!==t&&(this.focusedChild&&(this.focusedChild._focusTree(!1),this.focusedChild.focused=!1),this.focusedChild=t,this.focusedChild&&(this.focusedChild._focusTree(this.hasActiveFocus()),this.focusedChild.focused=!0))},v.focusChild=function(t){this._propagateFocusToParents(),this._focusChild(t)},v._updateVisibilityForChild=function(t,e){t.recursiveVisible=e&&t.visible&&t.visibleInView},v._attachElement=function(t){this.element&&this.element.discard(),this.element=t;var e=this.parent;e&&e.element.append(t)},v._processKey=function(e,t){$manifest$trace$keys&&log(this.getComponentPath(),"_processKey",e,t);var i=t.timeStamp;if(this.keyProcessDelay){if(this._lastEvent&&i>this._lastEvent&&i-this._lastEvent<this.keyProcessDelay)return!0;this._lastEvent=i}var o=P.safeCall(this,[e,t],function(t){log("on "+e+" handler failed:",t,t.stack)}),n=this["__key__"+e];if(e in this._pressedHandlers&&this.invokeKeyHandlers(e,t,this._pressedHandlers[e],o))return!0;if(n&&this.invokeKeyHandlers(e,t,n,o))return!0;n=this.__key__Key;return!!("Key"in this._pressedHandlers&&this.invokeKeyHandlers(e,t,this._pressedHandlers.Key,o))||!(!n||!this.invokeKeyHandlers(e,t,n,o))},v.invokeKeyHandlers=function(t,e,i,o){for(var n=i.length-1;0<=n;--n){if(o(i[n]))return $manifest$trace$keys&&log("key "+t+" handled in "+(performance.now()-e.timeStamp).toFixed(3)+" ms by",this,(new Error).stack),!0}return!1},v.onPressed=function(t,i){var e;this._get("key",!0);e="Key"!=t?function(t,e){return e.accepted=!0,i(t,e),e.accepted}:i,t in this._pressedHandlers?this._pressedHandlers[t].push(e):this._pressedHandlers[t]=[e]},v.style=function(t,e){var i=this.element;if(i)return i.style(t,e);log("WARNING: style skipped:",t,e)},v._enqueueNextChildInFocusChain=function(t,e){this._tryFocus();var i=this.focusedChild;i&&i.visible&&(t.unshift(i),e.unshift(i))},v.registerStyle=function(t,e){var i="position: absolute; visibility: inherit; opacity: 1.0;";i+="border-style: solid; border-width: 0px; border-radius: 0px; box-sizing: border-box; border-color: rgba(0,0,0,1);",i+="white-space: nowrap; transform: none;",i+="left: 0px; top: 0px; width: 0px; height: 0px;",i+="font-family: "+$manifest$style$font$family+"; ",i+="line-height: "+$manifest$style$font$lineHeight+"; ",i+="font-weight: "+$manifest$style$font$weight+"; ",i+="pointer-events: inherit; touch-action: inherit; ",$manifest$style$font$pixelSize?i+="font-size: "+$manifest$style$font$pixelSize+"px; ":$manifest$style$font$pointSize&&(i+="font-size: "+$manifest$style$font$pointSize+"pt; "),t.addRule(e,i)},v._createElement=function(t,e){var i=this._get("context",!0);null===(i=this._context)&&(i=this),i.registerStyle(this,t,e),this._attachElement(i.createElement(t,e))},P._protoOnChanged(v,"cssNullTranslate3D",function(t){$manifest$cssDisableTransformations||this.style("transform",t?"translateZ(0)":"")}),P._protoOnChanged(v,"focus",function(t){this.parent&&this.parent._tryFocus()}),P._protoOnChanged(v,"height",function(t){this.style("height",t-this._topPadding+(this._borderHeightAdjust||0)),this.newBoundingBox()}),P._protoOnChanged(v,"width",function(t){this.style("width",t+(this._borderWidthAdjust||0)),this.newBoundingBox()}),P._protoOnChanged(v,"fullscreen",function(t){var e=this._context.backend;"enterFullscreenMode"in e?t?e.enterFullscreenMode(this.element):e.exitFullscreenMode():log("enterFullscreenMode is not available in current backend, fullscreen: "+t)}),P._protoOnChanged(v,"recursiveVisible",function(t){for(var e=this.children,i=0,o=e.length;i<o;++i){var n=e[i];this._updateVisibilityForChild(n,t)}!t&&this.parent&&this.parent._tryFocus(),$manifest$requireExplicitRecursiveVisibilityStyle&&this.style("-pure-recursive-visibility",t)}),P._protoOnChanged(v,"cssPointerTouchEvents",function(t){var e=t?"auto":"none";this.style("pointer-events",e),this.style("touch-action",e)});var $=function(t){var e=this.x+this.viewX;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateX=e:this.style("left",e),this.newBoundingBox()};P._protoOnChanged(v,"x",$),P._protoOnChanged(v,"viewX",$);var b=function(t){var e=this.y+this.viewY;this.cssTranslatePositioning&&!$manifest$cssDisableTransformations?this.transform.translateY=e:this.style("top",e),this.newBoundingBox()};P._protoOnChanged(v,"y",b),P._protoOnChanged(v,"viewY",b),P._protoOnChanged(v,"opacity",function(t){this.element&&this.style("opacity",t)}),P._protoOnChanged(v,"clip",function(t){this._updateOverflow()});var w=function(t){this._updateVisibility()};P._protoOnChanged(v,"visible",w),P._protoOnChanged(v,"visibleInView",w),P._protoOnChanged(v,"z",function(t){this.style("z-index",t)}),v.$c=function(t){y.$c.call(this,t.$b={})},v.$s=function(t){y.$s.call(this,t.$b),delete t.$b,this.completed()};var x=P.Item,S=x.prototype,k=d.EchoSpinner=function(t,e){x.apply(this,arguments)},A=k.prototype=Object.create(S);A.constructor=k,A.componentName="src.EchoSpinner",s.addProperty(A,"Color","color"),A.getTag=function(){return"native"===this._get("device",!0).runtime?"spinner":"div"},A.__complete=function(){S.__complete.call(this),this.element.dom.className="lds-ring"},A.$c=function(t){var e=this;S.$c.call(this,t.$b={});var i=new p.CssMixin(e);(t._this$child0=i).$c(t.$c$_this$child0={}),e.addChild(i);var o=new P.Item(e);(t._this$child1=o).$c(t.$c$_this$child1={}),s.addProperty(o,"Color","color"),e.addChild(o);var n=new P.Item(e);(t._this$child2=n).$c(t.$c$_this$child2={}),s.addProperty(n,"Color","color"),e.addChild(n);var r=new P.Item(e);(t._this$child3=r).$c(t.$c$_this$child3={}),s.addProperty(r,"Color","color"),e.addChild(r);var a=new P.Item(e);(t._this$child4=a).$c(t.$c$_this$child4={}),s.addProperty(a,"Color","color"),e.addChild(a)},A.$s=function(t){var e=this;S.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("color",function(){e.color=e._get("consts").accentTextColor},[e._get("consts"),"accentTextColor"]),e._replaceUpdater("width",function(){e.width=50*e._context.virtualScale},[e._context,"virtualScale"]),e._replaceUpdater("height",function(){e.height=50*e._context.virtualScale},[e._context,"virtualScale"]),e.anchors._removeUpdater("centerIn"),e.anchors.centerIn=e.parent;var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i._replaceUpdater("rules",function(){i.rules=".lds-ring {width:"+i.parent.width+"px;height:"+i.parent.height+"px;}.lds-ring div {box-sizing: border-box;width:"+i.parent.width+"px;height:"+i.parent.height+"px;border:"+i.parent.width/10+"px solid #fff;border-radius: 50%;animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color: "+i.parent.color+" transparent transparent transparent;}.lds-ring div:nth-child(1) {animation-delay: -0.45s;}.lds-ring div:nth-child(2) {animation-delay: -0.3s;}.lds-ring div:nth-child(3) {animation-delay: -0.15s;}@keyframes lds-ring {0% {transform: rotate(0deg);}100% {transform: rotate(360deg);}}"},[i.parent,"width",i.parent,"height",i.parent,"color"]),i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o._replaceUpdater("color",function(){o.color=o.parent.color},[o.parent,"color"]),o.onChanged("color",function(t){this.style("border-color",t+" transparent transparent transparent")}.bind(o)),o.completed();var n=t._this$child2;n.$s(t.$c$_this$child2),delete t.$c$_this$child2,n._replaceUpdater("color",function(){n.color=n.parent.color},[n.parent,"color"]),n.onChanged("color",function(t){this.style("border-color",t+" transparent transparent transparent")}.bind(n)),n.completed();var r=t._this$child3;r.$s(t.$c$_this$child3),delete t.$c$_this$child3,r._replaceUpdater("color",function(){r.color=r.parent.color},[r.parent,"color"]),r.onChanged("color",function(t){this.style("border-color",t+" transparent transparent transparent")}.bind(r)),r.completed();var a=t._this$child4;a.$s(t.$c$_this$child4),delete t.$c$_this$child4,a._replaceUpdater("color",function(){a.color=a.parent.color},[a.parent,"color"]),a.onChanged("color",function(t){this.style("border-color",t+" transparent transparent transparent")}.bind(a)),a.completed(),e.completed()};var O=P.Object,I=O.prototype,T=P.System=function(t,e){O.apply(this,arguments),this.vendor=P.vendor,this.device=P.device,this.os=P.os,this.browser=P.browser,this.userAgent=P.userAgent,this.language=P.language;var i=this._context;i.language=this.language.replace("-","_"),this.webkit=0<=this.userAgent.toLowerCase().indexOf("webkit"),this.support3dTransforms=i.backend.capabilities.csstransforms3d||!1,this.supportTransforms=i.backend.capabilities.csstransforms||!1,this.supportTransitions=i.backend.capabilities.csstransitions||!1,this.resolutionWidth=$manifest$resolutionWidth,this.resolutionHeight=$manifest$resolutionHeight},U=T.prototype=Object.create(I);U.constructor=T,U.componentName="core.System",s.addProperty(U,"string","userAgent"),s.addProperty(U,"string","language"),s.addProperty(U,"string","browser"),s.addProperty(U,"string","vendor"),s.addProperty(U,"string","os"),s.addProperty(U,"bool","webkit"),s.addProperty(U,"bool","support3dTransforms"),s.addProperty(U,"bool","supportTransforms"),s.addProperty(U,"bool","supportTransitions"),s.addProperty(U,"bool","portrait"),s.addProperty(U,"bool","landscape"),s.addProperty(U,"bool","pageActive",!0),s.addProperty(U,"int","screenWidth"),s.addProperty(U,"int","screenHeight"),s.addProperty(U,"int","contextWidth"),s.addProperty(U,"int","contextHeight"),s.addProperty(U,"int","resolutionWidth"),s.addProperty(U,"int","resolutionHeight"),s.addProperty(U,"bool","virtualKeyboard"),U.Desktop=0,T.Desktop=0,U.Tv=1,T.Tv=1,U.Mobile=2,T.Mobile=2,s.addProperty(U,"enum","device"),U.MobileS=0,T.MobileS=0,U.MobileM=1,T.MobileM=1,U.MobileL=2,T.MobileL=2,U.Tablet=3,T.Tablet=3,U.Laptop=4,T.Laptop=4,U.LaptopL=5,T.LaptopL=5,U.Laptop4K=6,T.Laptop4K=6,s.addProperty(U,"enum","layoutType"),U._updateLayoutType=function(){if(this.contextWidth&&this.contextHeight){var t=this.contextWidth;t<=320?this.layoutType=this.MobileS:t<=375?this.layoutType=this.MobileM:t<=425?this.layoutType=this.MobileL:t<=768?this.layoutType=this.Tablet:this.contextWidth<=1024?this.layoutType=this.Laptop:this.contextWidth<=1440?this.layoutType=this.LaptopL:this.layoutType=this.Laptop4K}};$=function(t){this._updateLayoutType()};P._protoOnChanged(U,"contextWidth",$),P._protoOnChanged(U,"contextHeight",$),U.$c=function(t){I.$c.call(this,t.$b={})},U.$s=function(t){var e=this;I.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("portrait",function(){e.portrait=e.parent.width<e.parent.height},[e.parent,"width",e.parent,"height"]),e._replaceUpdater("landscape",function(){e.landscape=!e.portrait},[e,"portrait"]),e._replaceUpdater("contextWidth",function(){e.contextWidth=e._context.width},[e._context,"width"]),e._replaceUpdater("contextHeight",function(){e.contextHeight=e._context.height},[e._context,"height"]),e._replaceUpdater("virtualKeyboard",function(){e.virtualKeyboard=e.device===C.core.System.prototype.Tv||e.device===C.core.System.prototype.Mobile},[e,"device"]),e.completed()};var E=P.Item,z=E.prototype,L=P.BaseLayout=function(t,e){E.apply(this,arguments),this._skipPositioning=!1,this._padding={}},D=L.prototype=Object.create(z);D.constructor=L,D.componentName="core.BaseLayout",s.addProperty(D,"int","count"),s.addProperty(D,"bool","trace"),s.addProperty(D,"int","spacing"),s.addProperty(D,"int","currentIndex"),s.addProperty(D,"int","contentWidth"),s.addProperty(D,"int","contentHeight"),s.addProperty(D,"bool","keyNavigationWraps"),s.addProperty(D,"bool","handleNavigationKeys"),s.addProperty(D,"int","layoutDelay"),s.addProperty(D,"int","prerenderDelay"),s.addProperty(D,"bool","offlineLayout"),s.addLazyProperty(D,"padding",function(t,e){var i,o={lazy$padding:i=new P.BaseLayoutContentPadding(t,e)};return i.$c(o.$c$lazy$padding={}),(i=o.lazy$padding).$s(o.$c$lazy$padding),delete o.$c$lazy$padding,i.completed(),i}),D._doLayout=function(){this._attach(),this._processUpdates(),this._layout(),this._skipPositioning=!1},D._doLayoutNP=function(){this._attach(),this._processUpdates(),this._layout(!0),this._skipPositioning=!1},D.__complete=function(){z.__complete.call(this),this._scheduleLayout()};$=function(){};D._attach=$,D._processUpdates=$,D._scheduleLayout=function(t){(this.recursiveVisible||this.offlineLayout)&&(t&&(this._skipPositioning=!0),0<=this.prerenderDelay&&0<=this.layoutDelay&&this.layoutDelay<this.prerenderDelay?(this._context.delayedAction("layout",this,this._doLayoutNP,this.layoutDelay),this._context.delayedAction("prerender",this,this._doLayout,this.prerenderDelay)):this._context.delayedAction("layout",this,this._doLayout,this.layoutDelay))};b=function(t){this._scheduleLayout()};P._protoOnChanged(D,"spacing",b),P._protoOnChanged(D,"recursiveVisible",b),D.$c=function(t){z.$c.call(this,t.$b={})},D.$s=function(t){var e=this;z.$s.call(this,t.$b),delete t.$b,e._removeUpdater("layoutDelay"),e.layoutDelay=-1,e._removeUpdater("prerenderDelay"),e.prerenderDelay=-1,e.completed()};var M=P.BaseLayout,R=M.prototype,N=P.Layout=function(t,e){M.apply(this,arguments)},H=N.prototype=Object.create(R);H.constructor=N,H.componentName="core.Layout",H.focusNextChild=function(){var t=0,e=this.children;this.focusedChild&&(t=e.indexOf(this.focusedChild));for(var i=t+1;i<e.length;++i)if(e[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;if(!this.keyNavigationWraps)return!1;for(i=0;i<=t;++i)if(e[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;return!1},H.focusPrevChild=function(){var t=0,e=this.children;this.focusedChild&&(t=e.indexOf(this.focusedChild));for(var i=t-1;0<=i;--i)if(e[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;if(!this.keyNavigationWraps)return!1;for(i=e.length-1;t<=i;--i)if(e[i]._tryFocus())return this.currentIndex=i,this.focusChild(this.children[i]),!0;return!1},P._protoOnChanged(H,"currentIndex",function(t){0<=t&&t<this.children.length&&this.focusChild(this.children[t])}),H.$c=function(t){R.$c.call(this,t.$b={})},H.$s=function(t){var e=this;R.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.contentWidth},[e,"contentWidth"]),e._replaceUpdater("height",function(){e.height=e.contentHeight},[e,"contentHeight"]),e._removeUpdater("handleNavigationKeys"),e.handleNavigationKeys=!0,e._removeUpdater("keyNavigationWraps"),e.keyNavigationWraps=!0,e.completed()};var V=P.Object,j=V.prototype,F=P.Shadow=function(t,e){V.apply(this,arguments)},B=F.prototype=Object.create(j);B.constructor=F,B.componentName="core.Shadow",s.addProperty(B,"real","x"),s.addProperty(B,"real","y"),s.addProperty(B,"color","color","black"),s.addProperty(B,"real","blur"),s.addProperty(B,"real","spread"),B._empty=function(){return!(this.x||this.y||this.blur||this.spread)},B._getFilterStyle=function(){var t=this.x+"px "+this.y+"px "+this.blur+"px ";return 0<this.spread&&(t+=this.spread+"px "),t+=P.Color.normalize(this.color)};$=function(t){this.parent._updateStyle(!0)};P._protoOnChanged(B,"x",$),P._protoOnChanged(B,"y",$),P._protoOnChanged(B,"color",$),P._protoOnChanged(B,"blur",$),P._protoOnChanged(B,"spread",$),B.$c=function(t){j.$c.call(this,t.$b={})},B.$s=function(t){j.$s.call(this,t.$b),delete t.$b,this.completed()};var W=P.Layout,Y=W.prototype,X=P.Row=function(t,e){W.apply(this,arguments)},K=X.prototype=Object.create(Y);K.constructor=X,K.componentName="core.Row",K._layout=function(){if(this.recursiveVisible||this.offlineLayout){var t=this.children,e=0,i=0;this.count=t.length;for(var o=0;o<t.length;++o){var n=t[o];if("height"in n){var r=n.anchors.rightMargin||n.anchors.margins,a=n.anchors.leftMargin||n.anchors.margins,s=n.y+n.height;i<s&&(i=s),n.viewX=e+r,n.recursiveVisible&&(e+=n.width+this.spacing+r+a)}}0<e&&(e-=this.spacing),this.contentWidth=e,this.contentHeight=i}},K.addChild=function(t){if(P.Item.prototype.addChild.apply(this,arguments),"width"in t){var e=this._scheduleLayout.bind(this);t.onChanged("recursiveVisible",e),t.onChanged("width",e),t.on("anchorsMarginsUpdated",e),this._scheduleLayout()}},P._protoOnKey(K,"Key",function(t,e){if(!this.handleNavigationKeys)return!1;switch(t){case"Left":return this.focusPrevChild();case"Right":return this.focusNextChild()}}),K.$c=function(t){Y.$c.call(this,t.$b={})},K.$s=function(t){Y.$s.call(this,t.$b),delete t.$b,this.completed()};var q=P.Item,G=q.prototype,J=P.BaseViewContent=function(t,e){q.apply(this,arguments),this.style("will-change","scroll-position, transform, left, top")},Z=J.prototype=Object.create(G);Z.constructor=J,Z.componentName="core.BaseViewContent",Z._updateScrollPositions=function(t,e,i){this._setProperty("x",-t),this._setProperty("y",-e),(void 0===i||i)&&this.parent._scheduleLayout(!0)};$=function(t){this.parent._scheduleLayout()};P._protoOnChanged(Z,"x",$),P._protoOnChanged(Z,"y",$),Z.$c=function(t){G.$c.call(this,t.$b={})},Z.$s=function(t){G.$s.call(this,t.$b),delete t.$b,this.completed()};var Q=P.Item,tt=Q.prototype,et=P.VideoPlayer=function(t,e){Q.apply(this,arguments),this.impl=null,this._createPlayer();for(var i=t,o=this._scheduleLayout.bind(this);i;)this.connectOn(i,"scrollEvent",o),i=i.parent},it=et.prototype=Object.create(tt);it.constructor=et,it.componentName="core.VideoPlayer",it.text=P.createSignal("text"),it.error=P.createSignal("error"),it.finished=P.createSignal("finished"),s.addProperty(it,"string","backend"),s.addProperty(it,"string","source"),s.addProperty(it,"string","backgroundImage"),s.addProperty(it,"color","backgroundColor","#000"),s.addProperty(it,"float","volume",1),s.addProperty(it,"bool","loop"),s.addProperty(it,"bool","ready"),s.addProperty(it,"bool","muted"),s.addProperty(it,"bool","paused"),s.addProperty(it,"bool","waiting"),s.addProperty(it,"bool","seeking"),s.addProperty(it,"bool","stalled"),s.addProperty(it,"bool","autoPlay"),s.addProperty(it,"real","duration"),s.addProperty(it,"real","progress"),s.addProperty(it,"real","buffered"),s.addProperty(it,"real","startPosition"),it._getPlayer=function(){return null===this.impl&&this._createPlayer(),this.impl},it._createPlayer=function(){if(this.impl)return this.impl;var t=this.source,e=this.backend;log("preferred backend: "+e);var i=P.__videoBackends,o=[];if(e&&i[e]){var n=i[e]();this.impl=n.createPlayer(this)}else{for(var r in i){var a=(n=i[r]()).probeUrl(t);0<a&&o.push({backend:n,score:a})}if(o.sort(function(t,e){return e.score-t.score}),0===o.length)throw new Error("no backends for source "+t);this.impl=o[0].backend.createPlayer(this)}return this.source&&this.impl.setSource(this.source),this.impl},it._scheduleLayout=function(){this._context.delayedAction("layout",this,this._doLayout)},it.play=function(){var t=this._get("player",!0);this.source&&(log("play",this.source),(t=this._getPlayer())&&(this._scheduleLayout(),t.play()),this.applyVolume())},it.applyVolume=function(){var t=this._get("player",!0);1<this.volume?this.volume=1:this.volume<0&&(this.volume=0),(t=this._getPlayer())&&t.setVolume(this.volume)},it.pause=function(){var t=this._get("player",!0);(t=this._getPlayer())&&t.pause()},it._doLayout=function(){var t=this._get("player",!0);(t=this._getPlayer())&&t.setRect.apply(t,this.toScreen().slice(0,4))},it.stop=function(){var t=this._get("player",!0);(t=this._getPlayer())&&t.stop()},it.getAudioTracks=function(){var t=this._get("player",!0);return(t=this._getPlayer())?t.getAudioTracks():[]},it.getSubtitles=function(){var t=this._get("player",!0);return(t=this._getPlayer())?t.getSubtitles():[]},it.getVideoTracks=function(){var t=this._get("player",!0);return(t=this._getPlayer())?t.getVideoTracks():[]},it.__complete=function(){var t=this._get("player",!0);tt.__complete.call(this),this._scheduleLayout(),(t=this._getPlayer())&&t.setBackgroundColor(this.backgroundColor),this.autoPlay&&this.source&&this.play()},it.toggleMute=function(){var t=this._get("player",!0);(t=this._getPlayer())&&t.setMute(!this.muted)},it.volumeUp=function(){this.volume+=.1},it.volumeDown=function(){this.volume-=.1},it.setOption=function(t,e){var i=this._get("player",!0);(i=this._getPlayer())&&i.setOption(t,e)},it.setAudioTrack=function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.setAudioTrack(t)},it.setSubtitles=function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.setSubtitles(t)},it.setVideoTrack=function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.setVideoTrack(t)},it.setupDrm=function(t,e,i,o){var n=this._get("player",!0);(n=this._getPlayer())&&n.setupDrm(t,e,i,o)},it.seek=function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.seek(t)},it.seekTo=function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.seekTo(t)},P._protoOnChanged(it,"backend",function(t){this._get("player",!0);if(log("backend changed to",t),this.impl){log("disposing old player...");try{this.impl.dispose()}catch(t){log("player.dispose failed",t)}this.impl=null}this._createPlayer()}),P._protoOnChanged(it,"backgroundColor",function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.setBackgroundColor(t)}),P._protoOnChanged(it,"loop",function(t){var e=this._get("player",!0);(e=this._getPlayer())&&e.setLoop(t)}),P._protoOnChanged(it,"source",function(t){var e=this._get("player",!0);(e=this._getPlayer())?(log("setting source to",t),e.setSource(t)):log("WARNING: skipping VideoPlayer.setSource")}),P._protoOnChanged(it,"recursiveVisible",function(t){var e=this._get("player",!0);e=this._getPlayer();t&&this._scheduleLayout(),e&&e.setVisibility(t)}),P._protoOnChanged(it,"ready",function(t){log("ReadyState: "+this.ready)}),P._protoOnChanged(it,"volume",function(t){this.applyVolume()}),P._protoOnChanged(it,"autoPlay",function(t){this.setOption("autoplay",t)}),P._protoOnChanged(it,"backgroundImage",function(t){this.setOption("poster",t)}),P._protoOn(it,"newBoundingBox",function(){this._scheduleLayout()}),P._protoOn(it,"error",function(t){this.paused=!1,this.waiting=!1}),it.$c=function(t){tt.$c.call(this,t.$b={})},it.$s=function(t){tt.$s.call(this,t.$b),delete t.$b,this.completed()};var ot=P.Object,nt=ot.prototype,rt=P.BaseMixin=function(t,e){ot.apply(this,arguments),this.element=this.parent.element},at=rt.prototype=Object.create(nt);at.constructor=rt,at.componentName="core.BaseMixin",s.addProperty(at,"bool","enabled",!0),at.$c=function(t){nt.$c.call(this,t.$b={})},at.$s=function(t){nt.$s.call(this,t.$b),delete t.$b,this.completed()};var st=P.BaseMixin,ct=st.prototype,lt=P.BaseMouseMixin=function(t,e){st.apply(this,arguments),this._touchEvent=!1,this.cursor&&this.parent.style("cursor",this.cursor)},ht=lt.prototype=Object.create(ct);ht.constructor=lt,ht.componentName="core.BaseMouseMixin",s.addProperty(ht,"string","cursor"),ht._trueUnlessTouchEvent=function(){return!this._touchEvent},ht._resetTouchEvent=function(){this._touchEvent=!1},ht._setTouchEvent=function(){this._touchEvent=!0},P._protoOnChanged(ht,"cursor",function(t){this._get("cursor",!0);this.parent.style("cursor",t)}),ht.$c=function(t){ct.$c.call(this,t.$b={})},ht.$s=function(t){ct.$s.call(this,t.$b),delete t.$b,this.completed()};var dt=P.Item,pt=dt.prototype,ut=d.ProgramItem=function(t,e){dt.apply(this,arguments)},ft=ut.prototype=Object.create(pt);ft.constructor=ut,ft.componentName="src.ProgramItem",s.addProperty(ft,"bool","active"),ft.$c=function(t){var e=this;pt.$c.call(this,t.$b={});var i=new P.ClickMixin(e);(t._this$child0=i).$c(t.$c$_this$child0={}),e.addChild(i);var o=new p.FocusOnHoverMixin(e);(t._this$child1=o).$c(t.$c$_this$child1={}),e.addChild(o);var n=new P.Text(e);(t._this$child2=n).$c(t.$c$_this$child2={}),e.addChild(n);var r=new P.Image(e);(t._this$child3=r).$c(t.$c$_this$child3={}),e.addChild(r);var a=new P.Rectangle(e);(t._this$child4=a).$c(t.$c$_this$child4={}),e.addChild(a);var s=new P.Rectangle(e);(t._this$child5=s).$c(t.$c$_this$child5={}),e.addChild(s);var c=new P.Image(e);(t._this$child6=c).$c(t.$c$_this$child6={});var l=new P.Image(c);(t._this_child6$child0=l).$c(t.$c$_this_child6$child0={}),c.addChild(l);var h=new u.EllipsisText(c);(t._this_child6$child1=h).$c(t.$c$_this_child6$child1={}),c.addChild(h);var d=new P.Text(c);(t._this_child6$child2=d).$c(t.$c$_this_child6$child2={}),c.addChild(d),c._setId("programImage"),e.addChild(c)},ft.$s=function(t){var e=this;pt.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("active",function(){e.active=e.parent.selectedIndex==e._get("model").index},[e.parent,"selectedIndex",e._get("_delegate"),"_rowIndex"]),e._replaceUpdater("width",function(){e.width=470*e._context.virtualScale},[e._context,"virtualScale"]),e._replaceUpdater("height",function(){e.height=e.parent.height},[e.parent,"height"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o.completed();var n=t._this$child2;n.$s(t.$c$_this$child2),delete t.$c$_this$child2,n._replaceUpdater("color",function(){n.color=n._get("consts").textColor},[n._get("consts"),"textColor"]),n.font._replaceUpdater("pixelSize",function(){n.font.pixelSize=24*n._context.virtualScale},[n._context,"virtualScale"]),n._replaceUpdater("text",function(){n.text=n._get("model").timeTitle},[n._get("_delegate"),"_row"]),n._replaceUpdater("opacity",function(){n.opacity=n.parent.activeFocus||n.parent.active?1:.4},[n.parent,"activeFocus",n.parent,"active"]);var r,a={behavior__this_child2_on_opacity:r=new P.Animation(n)};r.$c(a.$c$behavior__this_child2_on_opacity={}),(r=a.behavior__this_child2_on_opacity).$s(a.$c$behavior__this_child2_on_opacity),delete a.$c$behavior__this_child2_on_opacity,r._replaceUpdater("duration",function(){r.duration=r._get("consts").animationDuration},[r._get("consts"),"animationDuration"]),r.completed(),n.setAnimation("opacity",r),n.completed();var s=t._this$child3;s.$s(t.$c$_this$child3),delete t.$c$_this$child3,s.anchors._replaceUpdater("fill",function(){s.anchors.fill=s._get("programImage")},[s,"programImage"]),s.anchors._replaceUpdater("topMargin",function(){s.anchors.topMargin=-50*s._context.virtualScale},[s._context,"virtualScale"]),s.anchors._replaceUpdater("rightMargin",function(){s.anchors.rightMargin=-70*s._context.virtualScale},[s._context,"virtualScale"]),s.anchors._replaceUpdater("leftMargin",function(){s.anchors.leftMargin=-70*s._context.virtualScale},[s._context,"virtualScale"]),s.anchors._replaceUpdater("bottomMargin",function(){s.anchors.bottomMargin=-50*s._context.virtualScale},[s._context,"virtualScale"]),s._removeUpdater("source"),s.source="res/shadow.png",s._replaceUpdater("opacity",function(){s.opacity=s.parent.activeFocus?1:0},[s.parent,"activeFocus"]);var c,l={behavior__this_child3_on_opacity:c=new P.Animation(s)};c.$c(l.$c$behavior__this_child3_on_opacity={}),(c=l.behavior__this_child3_on_opacity).$s(l.$c$behavior__this_child3_on_opacity),delete l.$c$behavior__this_child3_on_opacity,c._replaceUpdater("duration",function(){c.duration=c._get("consts").animationDuration},[c._get("consts"),"animationDuration"]),c.completed(),s.setAnimation("opacity",c),s.completed();var h=t._this$child4;h.$s(t.$c$_this$child4),delete t.$c$_this$child4,h.anchors._replaceUpdater("fill",function(){h.anchors.fill=h._get("programImage")},[h,"programImage"]),h.anchors._replaceUpdater("margins",function(){h.anchors.margins=-4*h._context.virtualScale},[h._context,"virtualScale"]),h._replaceUpdater("visible",function(){h.visible=h.parent.active},[h.parent,"active"]),h._removeUpdater("color"),h.color="#fff",h.completed();var d=t._this$child5;d.$s(t.$c$_this$child5),delete t.$c$_this$child5,d.anchors._replaceUpdater("fill",function(){d.anchors.fill=d._get("programImage")},[d,"programImage"]),d._removeUpdater("color"),d.color="#000",d.completed();var p=t._this$child6;p.$s(t.$c$_this$child6),delete t.$c$_this$child6,p._replaceUpdater("y",function(){p.y=47*p._context.virtualScale},[p._context,"virtualScale"]),p._replaceUpdater("width",function(){p.width=470*p._context.virtualScale},[p._context,"virtualScale"]),p._replaceUpdater("height",function(){p.height=266*p._context.virtualScale},[p._context,"virtualScale"]),p._replaceUpdater("source",function(){p.source=p._get("model").preview},[p._get("_delegate"),"_row"]),p._replaceUpdater("opacity",function(){p.opacity=p.parent.active?1:.4},[p.parent,"active"]);var u=t._this_child6$child0;u.$s(t.$c$_this_child6$child0),delete t.$c$_this_child6$child0,u._replaceUpdater("y",function(){u.y=u.parent.height/2+1*u._context.virtualScale},[u.parent,"height",u._context,"virtualScale"]),u._replaceUpdater("width",function(){u.width=u.parent.width},[u.parent,"width"]),u._replaceUpdater("height",function(){u.height=.5*u.parent.height},[u.parent,"height"]),u._removeUpdater("source"),u.source="res/fade.png",u._removeUpdater("opacity"),u.opacity=.8,u.completed();var f=t._this_child6$child1;f.$s(t.$c$_this_child6$child1),delete t.$c$_this_child6$child1,f._replaceUpdater("x",function(){f.x=10*f._context.virtualScale},[f._context,"virtualScale"]),f._replaceUpdater("width",function(){f.width=.95*f.parent.width},[f.parent,"width"]),f.anchors._replaceUpdater("bottom",function(){f.anchors.bottom=f.parent.bottom},[f.parent,"bottom"]),f.anchors._replaceUpdater("bottomMargin",function(){f.anchors.bottomMargin=33*f._context.virtualScale},[f._context,"virtualScale"]),f._replaceUpdater("color",function(){f.color=f._get("consts").textColor},[f._get("consts"),"textColor"]),f.font._replaceUpdater("pixelSize",function(){f.font.pixelSize=24*f._context.virtualScale},[f._context,"virtualScale"]),f._replaceUpdater("text",function(){f.text=f._get("model").title},[f._get("_delegate"),"_row"]),f._replaceUpdater("visible",function(){f.visible=f._get("model").preview==f._get("consts").defaultPoster},[f._get("_delegate"),"_row",f._get("consts"),"defaultPoster"]),f.completed();var g=t._this_child6$child2;g.$s(t.$c$_this_child6$child2),delete t.$c$_this_child6$child2,g._replaceUpdater("x",function(){g.x=10*g._context.virtualScale},[g._context,"virtualScale"]),g._replaceUpdater("width",function(){g.width=.95*g.parent.width},[g.parent,"width"]),g.anchors._replaceUpdater("bottom",function(){g.anchors.bottom=g.parent.bottom},[g.parent,"bottom"]),g.anchors._replaceUpdater("bottomMargin",function(){g.anchors.bottomMargin=5*g._context.virtualScale},[g._context,"virtualScale"]),g._removeUpdater("color"),g.color="#bbb",g.font._replaceUpdater("pixelSize",function(){g.font.pixelSize=24*g._context.virtualScale},[g._context,"virtualScale"]),g._replaceUpdater("text",function(){g.text=g._get("model").time},[g._get("_delegate"),"_row"]),g.completed();var _,y={behavior__this_child6_on_opacity:_=new P.Animation(p)};_.$c(y.$c$behavior__this_child6_on_opacity={}),(_=y.behavior__this_child6_on_opacity).$s(y.$c$behavior__this_child6_on_opacity),delete y.$c$behavior__this_child6_on_opacity,_._replaceUpdater("duration",function(){_.duration=_._get("consts").animationDuration},[_._get("consts"),"animationDuration"]),_.completed(),p.setAnimation("opacity",_),p.completed(),e.completed()};var gt=P.Object,_t=gt.prototype,yt=P.Animation=function(t,e){gt.apply(this,arguments),this._disabled=0,this._native=!1},mt=yt.prototype=Object.create(_t);mt.constructor=yt,mt.componentName="core.Animation",s.addProperty(mt,"int","delay",0),s.addProperty(mt,"int","duration",200),s.addProperty(mt,"bool","cssTransition",!0),s.addProperty(mt,"bool","running",!1),s.addProperty(mt,"string","easing","ease"),s.addProperty(mt,"Object","target"),s.addProperty(mt,"string","property"),s.addProperty(mt,"variant","from"),s.addProperty(mt,"variant","to"),mt._updateAnimation=function(){this.target&&this.target.updateAnimation(this.property,this)},mt.active=function(){return this.enabled()&&0<this.duration},mt.disable=function(){++this._disabled,this._updateAnimation()},mt.enable=function(){--this._disabled,this._updateAnimation()},mt.enabled=function(){return 0===this._disabled},mt.complete=function(){},mt.interpolate=function(t,e,i){return i*(t-e)+e};$=function(t){this._updateAnimation()};P._protoOnChanged(mt,"delay",$),P._protoOnChanged(mt,"duration",$),P._protoOnChanged(mt,"cssTransition",$),P._protoOnChanged(mt,"running",$),P._protoOnChanged(mt,"easing",$),mt.$c=function(t){_t.$c.call(this,t.$b={})},mt.$s=function(t){_t.$s.call(this,t.$b),delete t.$b,this.completed()};var vt=P.Item,$t=vt.prototype,bt=P.Image=function(t,e){vt.apply(this,arguments),this._context.backend.initImage(this),this._scheduleLoad()},wt=bt.prototype=Object.create($t);wt.constructor=bt,wt.componentName="core.Image",s.addProperty(wt,"int","paintedWidth"),s.addProperty(wt,"int","paintedHeight"),s.addProperty(wt,"int","sourceWidth"),s.addProperty(wt,"int","sourceHeight"),s.addProperty(wt,"string","source"),s.addProperty(wt,"bool","smooth",!0),s.addProperty(wt,"bool","preload",!1),wt.Null=0,bt.Null=0,wt.Ready=1,bt.Ready=1,wt.Loading=2,bt.Loading=2,wt.Error=3,bt.Error=3,s.addProperty(wt,"enum","status"),wt.Stretch=0,bt.Stretch=0,wt.PreserveAspectFit=1,bt.PreserveAspectFit=1,wt.PreserveAspectCrop=2,bt.PreserveAspectCrop=2,wt.Tile=3,bt.Tile=3,wt.TileVertically=4,bt.TileVertically=4,wt.TileHorizontally=5,bt.TileHorizontally=5,wt.Pad=6,bt.Pad=6,s.addProperty(wt,"enum","fillMode"),wt.AlignVCenter=0,bt.AlignVCenter=0,wt.AlignTop=1,bt.AlignTop=1,wt.AlignBottom=2,bt.AlignBottom=2,s.addProperty(wt,"enum","verticalAlignment"),wt.AlignHCenter=0,bt.AlignHCenter=0,wt.AlignLeft=1,bt.AlignLeft=1,wt.AlignRight=2,bt.AlignRight=2,s.addProperty(wt,"enum","horizontalAlignment"),wt._scheduleLoad=function(){(this.preload||this.recursiveVisible)&&this._context.delayedAction("image.load",this,this._load)},wt._load=function(){if(this.status!==this.Ready){if(this.preload||this.recursiveVisible)if(this.source){this.status=this.Loading;var t=this._context,e=this._imageLoaded.bind(this);t.backend.loadImage(this,t.wrapNativeCallback(e))}else this._resetImage()}else this._updatePaintedSize()},wt._onError=function(){this.status=this.Error},wt._resetImage=function(){this.style("background-image","")},wt._updatePaintedSize=function(){var t,e=this.sourceWidth,i=this.sourceHeight,o=this.width,n=this.height;if(e<=0||i<=0||o<=0||n<=0)return this.paintedWidth=0,void(this.paintedHeight=0);switch(this.fillMode){case bt.PreserveAspectFit:t=!1;break;case bt.PreserveAspectCrop:t=!0;break;default:return this.paintedWidth=o,void(this.paintedHeight=n)}var r=o/n,a=e/i;(t?a<r:r<a)?(this.paintedWidth=o,this.paintedHeight=o/a):(this.paintedHeight=n,this.paintedWidth=n*a)},wt.getClass=function(){return"core-image"},wt._imageLoaded=function(t){if(t){var e={"background-image":'url("'+this.source+'")'},i=t.width,o=t.height;switch(this.sourceWidth=i,this.sourceHeight=o,this.horizontalAlignment){case bt.AlignHCenter:e["background-position-x"]="center";break;case bt.AlignLeft:e["background-position-x"]="left";break;case bt.AlignRight:e["background-position-x"]="right"}switch(this.verticalAlignment){case bt.AlignVCenter:e["background-position-y"]="center";break;case bt.AlignTop:e["background-position-y"]="top";break;case bt.AlignBottom:e["background-position-y"]="bottom"}switch(this.fillMode){case bt.Stretch:e["background-repeat"]="no-repeat",e["background-size"]="100% 100%";break;case bt.TileVertically:e["background-repeat"]="repeat-y",e["background-size"]="100% "+o+"px";break;case bt.TileHorizontally:e["background-repeat"]="repeat-x",e["background-size"]=i+"px 100%";break;case bt.Tile:e["background-repeat"]="repeat-y repeat-x",e["background-size"]="auto";break;case bt.PreserveAspectCrop:e["background-repeat"]="no-repeat",e["background-size"]="cover";break;case bt.Pad:e["background-repeat"]="no-repeat",e["background-position"]="0% 0%",e["background-size"]="auto";break;case bt.PreserveAspectFit:e["background-repeat"]="no-repeat",e["background-size"]="contain"}e["image-rendering"]=this.smooth?"auto":"pixelated",this.style(e),this.status=bt.Ready,this._updatePaintedSize()}else this.status=bt.Error};$=function(t){this._scheduleLoad()};P._protoOnChanged(wt,"preload",$),P._protoOnChanged(wt,"recursiveVisible",$),P._protoOnChanged(wt,"width",$),P._protoOnChanged(wt,"height",$),P._protoOnChanged(wt,"fillMode",$),P._protoOnChanged(wt,"source",function(t){this.status=this.Null,this._scheduleLoad()}),wt.$c=function(t){$t.$c.call(this,t.$b={})},wt.$s=function(t){var e=this;$t.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.sourceWidth},[e,"sourceWidth"]),e._replaceUpdater("height",function(){e.height=e.sourceHeight},[e,"sourceHeight"]),e.completed()};var xt=P.Image,Ct=xt.prototype,Pt=d.CloseIcon=function(t,e){xt.apply(this,arguments)},St=Pt.prototype=Object.create(Ct);St.constructor=Pt,St.componentName="src.CloseIcon",St.$c=function(t){Ct.$c.call(this,t.$b={});var e=new P.HoverMixin(this);(t._this$child0=e).$c(t.$c$_this$child0={}),e._setId("closeHoverMisin"),this.addChild(e);var i=new P.ClickMixin(this);(t._this$child1=i).$c(t.$c$_this$child1={}),this.addChild(i)},St.$s=function(t){var e=this;Ct.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=60*e._context.virtualScale},[e._context,"virtualScale"]),e._replaceUpdater("height",function(){e.height=60*e._context.virtualScale},[e._context,"virtualScale"]),e.anchors._replaceUpdater("top",function(){e.anchors.top=e.parent.top},[e.parent,"top"]),e.anchors._replaceUpdater("right",function(){e.anchors.right=e.parent.right},[e.parent,"right"]),e.anchors._replaceUpdater("margins",function(){e.anchors.margins=10*e._context.virtualScale},[e._context,"virtualScale"]),e._removeUpdater("source"),e.source="res/close.png",e._replaceUpdater("opacity",function(){e.opacity=e._get("closeHoverMisin").value||e.activeFocus?1:.5},[e._get("closeHoverMisin"),"value",e,"activeFocus"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o.completed();var n,r={behavior__this_on_opacity:n=new P.Animation(e)};n.$c(r.$c$behavior__this_on_opacity={}),(n=r.behavior__this_on_opacity).$s(r.$c$behavior__this_on_opacity),delete r.$c$behavior__this_on_opacity,n._replaceUpdater("duration",function(){n.duration=n._get("consts").animationDuration},[n._get("consts"),"animationDuration"]),n.completed(),e.setAnimation("opacity",n),e.completed()};var kt=P.Item,At=kt.prototype,Ot=P.Loader=function(t,e){kt.apply(this,arguments)},It=Ot.prototype=Object.create(At);It.constructor=Ot,It.componentName="core.Loader",It.loaded=P.createSignal("loaded"),It.itemCompleted=P.createSignal("itemCompleted"),s.addProperty(It,"string","source"),s.addProperty(It,"Object","item"),s.addProperty(It,"bool","trace"),It.discard=function(){this.discardItem(),P.Item.prototype.discard.call(this)},It.discardItem=function(){var t=this.item;t&&(t.discard(),t=null)},It._load=function(){var t=this.source;if(t){this.trace&&log("loading "+t+"…");for(var e=t.split("."),i=C;e.length;){if(void 0===(i=i[e.shift()]))throw new Error("unknown component used: "+t)}var o=this.item=new i(this),n=r!==P.CoreObject.prototype.__complete;if(n){var r=o.__complete,a=this.itemCompleted.bind(this,o);o.__complete=function(){try{r.call(this)}catch(t){log("onComplete failed:",t)}a()}}P.core.createObject(o),this.loaded(o),n||this.itemCompleted()}},It.__complete=function(){At.__complete.call(this),!this.item&&this.source&&this._load()},P._protoOnChanged(It,"recursiveVisible",function(t){this.item&&this._updateVisibilityForChild(this.item,t)}),P._protoOnChanged(It,"source",function(t){this.discardItem(),this._load()}),It.$c=function(t){At.$c.call(this,t.$b={})},It.$s=function(t){At.$s.call(this,t.$b),delete t.$b,this.completed()};var Tt=P.Item,Ut=Tt.prototype,Et=t.BaseActivity=function(t,e){Tt.apply(this,arguments)},zt=Et.prototype=Object.create(Ut);zt.constructor=Et,zt.componentName="controls.core.BaseActivity",zt.started=P.createSignal("started"),zt.stopped=P.createSignal("stopped"),s.addProperty(zt,"bool","active"),s.addProperty(zt,"string","name"),s.addProperty(zt,"Item","manager"),zt.clear=function(){this.manager.clear()},zt.pop=function(t){this.manager.pop(t)},zt.init=function(t,e){},zt.closeAllExcept=function(t){this.manager.closeAllExcept(t)},zt.removeActivity=function(t){this.manager.removeActivity(t)},zt.push=function(t,e,i){this.manager.push(t,e,i)},zt.replaceTopActivity=function(t,e,i){this.manager.replaceTopActivity(t,e,i)},zt.popWithState=function(t){this.manager.popWithState(t)},zt.setIntent=function(t,e){this.manager.setIntent(t,e)},zt.setState=function(t,e){this.manager.setState(t,e)},P._protoOnKey(zt,"Back",function(t,e){return this.manager.pop(),!0}),zt.$c=function(t){Ut.$c.call(this,t.$b={})},zt.$s=function(t){var e=this;Ut.$s.call(this,t.$b),delete t.$b,e._removeUpdater("manager"),e.manager=e.parent,e._replaceUpdater("visible",function(){e.visible=e.active},[e,"active"]),e.completed()};var Lt=t.BaseActivity,Dt=Lt.prototype,Mt=t.LazyActivity=function(t,e){Lt.apply(this,arguments)},Rt=Mt.prototype=Object.create(Dt);Rt.constructor=Mt,Rt.componentName="controls.core.LazyActivity",s.addProperty(Rt,"string","component"),Rt.init=function(){C.controls.core.BaseActivity.prototype.init.apply(this,arguments);var t=this.createActivity();t&&t.init.apply(t,arguments)},Rt.start=function(){this.createActivity().start(),this.visible=!0},Rt.stop=function(){this.visible=!1;var t=this.getActivity();t&&t.stop()},Rt.getActivity=function(){return this._get("loader",!0).item},Rt.createActivity=function(){var t=this._get("loader",!0),e=t.item;if(!e){if(t.source=this.component,((e=t.item).anchors.fill=this)._context._processActions(),e.manager=this.manager,!e)throw new Error("can't create component "+this.component);var i=this;e.on("started",function(){i.started()}),e.on("stopped",function(){i.stopped()})}return t.item},Rt.$c=function(t){Dt.$c.call(this,t.$b={});var e=new P.Loader(this);(t._this$child0=e).$c(t.$c$_this$child0={}),e._setId("loader"),this.addChild(e)},Rt.$s=function(t){var e=this;Dt.$s.call(this,t.$b),delete t.$b,e.anchors._replaceUpdater("fill",function(){e.anchors.fill=e.manager},[e,"manager"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.anchors._replaceUpdater("fill",function(){i.anchors.fill=i.parent.manager},[i.parent,"manager"]),i.completed(),e.completed()};var Nt=P.Object,Ht=Nt.prototype,Vt=P.Radius=function(t,e){Nt.apply(this,arguments)},jt=Vt.prototype=Object.create(Ht);jt.defaultProperty="radius",jt.constructor=Vt,jt.componentName="core.Radius",s.addProperty(jt,"real","radius"),s.addProperty(jt,"real","topLeft"),s.addProperty(jt,"real","topRight"),s.addProperty(jt,"real","bottomLeft"),s.addProperty(jt,"real","bottomRight"),jt.__complete=function(){Ht.__complete.call(this);var t=this.radius,e=this.topLeft||t,i=this.topRight||t,o=this.bottomLeft||t,n=this.bottomRight||t;e==i&&o==n&&e==o?this.parent.style("border-radius",e):this.parent.style("border-radius",e+"px "+i+"px "+n+"px "+o+"px")};$=function(){log("updating border")};P._protoOn(jt,"radiusUpdate",$),P._protoOn(jt,"topLeftUpdate",$),P._protoOn(jt,"topRightUpdate",$),P._protoOn(jt,"bottomLeftUpdate",$),P._protoOn(jt,"bottomRightUpdate",$),jt.$c=function(t){Ht.$c.call(this,t.$b={})},jt.$s=function(t){Ht.$s.call(this,t.$b),delete t.$b,this.completed()};var Ft=P.Item,Bt=Ft.prototype,Wt=P.Rectangle=function(t,e){Ft.apply(this,arguments),this._context.backend.initRectangle(this)},Yt=Wt.prototype=Object.create(Bt);(Yt._propertyToStyle=Object.create(Bt._propertyToStyle)).color="background-color",Yt.constructor=Wt,Yt.componentName="core.Rectangle",s.addProperty(Yt,"color","color","#0000"),s.addLazyProperty(Yt,"border",function(t,e){var i,o={lazy$border:i=new P.Border(t,e)};return i.$c(o.$c$lazy$border={}),(i=o.lazy$border).$s(o.$c$lazy$border),delete o.$c$lazy$border,i.completed(),i}),s.addProperty(Yt,"Gradient","gradient"),P._protoOnChanged(Yt,"color",function(t){this.style("background-color",P.Color.normalize(t))}),Yt.$c=function(t){Bt.$c.call(this,t.$b={})},Yt.$s=function(t){Bt.$s.call(this,t.$b),delete t.$b,this.completed()};var Xt=P.Rectangle,Kt=Xt.prototype,qt=d.DialogButton=function(t,e){Xt.apply(this,arguments)},Gt=qt.prototype=Object.create(Kt);Gt.constructor=qt,Gt.componentName="src.DialogButton",Gt.pressed=P.createSignal("pressed"),s.addProperty(Gt,"string","text"),P._protoOn(Gt,"clicked",function(){this.pressed()}),P._protoOnKey(Gt,"Select",function(t,e){this.pressed()}),Gt.$c=function(t){Kt.$c.call(this,t.$b={});var e=new P.ClickMixin(this);(t._this$child0=e).$c(t.$c$_this$child0={}),this.addChild(e);var i=new P.Text(this);(t._this$child1=i).$c(t.$c$_this$child1={}),this.addChild(i)},Gt.$s=function(t){var e=this;Kt.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=200*e._context.virtualScale},[e._context,"virtualScale"]),e._replaceUpdater("height",function(){e.height=e.parent.height},[e.parent,"height"]),e._replaceUpdater("color",function(){e.color=e.activeFocus?"#fff":"#0000"},[e,"activeFocus"]),e.border._removeUpdater("width"),e.border.width=1,e.border._removeUpdater("color"),e.border.color="#fff",e._removeUpdater("focus"),e.focus=!0;var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o._replaceUpdater("width",function(){o.width=o.parent.width},[o.parent,"width"]),o.anchors._replaceUpdater("verticalCenter",function(){o.anchors.verticalCenter=o.parent.verticalCenter},[o.parent,"verticalCenter"]),o._removeUpdater("horizontalAlignment"),o.horizontalAlignment=C.core.Text.prototype.AlignHCenter,o._replaceUpdater("color",function(){o.color=o.parent.activeFocus?"#000":"#fff"},[o.parent,"activeFocus"]),o.font._replaceUpdater("pixelSize",function(){o.font.pixelSize=28*o._context.virtualScale},[o._context,"virtualScale"]),o._replaceUpdater("text",function(){o.text=o.parent.text},[o.parent,"text"]),o.completed(),e.completed()};var Jt=P.Object,Zt=Jt.prototype,Qt=P.Request=function(t,e){Jt.apply(this,arguments)},te=Qt.prototype=Object.create(Zt);te.constructor=Qt,te.componentName="core.Request",s.addProperty(te,"bool","loading",!1),te.ajax=function(t){t.done&&(t.done=this._context.wrapNativeCallback(t.done)),t.error&&(t.error=this._context.wrapNativeCallback(t.error)),this._context.backend.ajax(this,t)},te.$c=function(t){Zt.$c.call(this,t.$b={})},te.$s=function(t){Zt.$s.call(this,t.$b),delete t.$b,this.completed()};var ee=P.Item,ie=ee.prototype,oe=d.UiApp=function(t,e){ee.apply(this,arguments)},ne=oe.prototype=Object.create(ie);ne.constructor=oe,ne.componentName="src.UiApp",ne.closeApp=function(){this._get("closeDialog",!0).show()},ne.__complete=function(){var t=this._get("device",!0),e=this._get("player",!0);ie.__complete.call(this),t.lockOrientation&&t.lockOrientation("landscape"),t.keepScreenOn&&t.keepScreenOn(!0),t.setFullScreen&&t.setFullScreen(!0);var i=this._context.system.os.toLowerCase();"tizen"===i&&this.style("background-color","#000"),this._context.document.on("visibilitychange",function(){"tizen"==i&&(log("Document hidden",document.hidden),document.hidden||(log("Reset URL"),e.source="",e.source="https://echomsksni-live.cdnvideo.ru/echomsksni-live/echo-live912/playlist.m3u8"))})},ne.$c=function(t){var e=this;ie.$c.call(this,t.$b={});var i=new d.Consts(e);(t._this$child0=i).$c(t.$c$_this$child0={}),i._setId("consts"),e.addChild(i);var o=new d.EchoApi(e);(t._this$child1=o).$c(t.$c$_this$child1={}),o._setId("api"),e.addChild(o);var n=new P.Device(e);(t._this$child2=n).$c(t.$c$_this$child2={}),n._setId("device"),e.addChild(n);var r=new P.VideoPlayer(e);(t._this$child3=r).$c(t.$c$_this$child3={}),r._setId("player"),e.addChild(r);var a=new d.EchoSpinner(e);(t._this$child4=a).$c(t.$c$_this$child4={}),e.addChild(a);var s=new d.CurrentInfoPage(e);(t._this$child5=s).$c(t.$c$_this$child5={}),s._setId("infoPage"),e.addChild(s);var c=new d.CloseDialog(e);(t._this$child6=c).$c(t.$c$_this$child6={}),c._setId("closeDialog"),e.addChild(c),e._setId("root")},ne.$s=function(t){var e=this;ie.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e._context.system.resolutionWidth},[e._context.system,"resolutionWidth"]),e._replaceUpdater("height",function(){e.height=e._context.system.resolutionHeight},[e._context.system,"resolutionHeight"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o.completed();var n=t._this$child2;n.$s(t.$c$_this$child2),delete t.$c$_this$child2,n.completed();var r=t._this$child3;r.$s(t.$c$_this$child3),delete t.$c$_this$child3,r.anchors._removeUpdater("fill"),r.anchors.fill=r.parent,r._removeUpdater("source"),r.source="https://echomsksni-live.cdnvideo.ru/echomsksni-live/echo-live912/playlist.m3u8",r._removeUpdater("autoPlay"),r.autoPlay=!0,r.completed();var a=t._this$child4;a.$s(t.$c$_this$child4),delete t.$c$_this$child4,a._replaceUpdater("visible",function(){a.visible=a._get("player").waiting||!a._get("player").ready||a._get("player").seeking},[a._get("player"),"waiting",a._get("player"),"ready",a._get("player"),"seeking"]),a.completed();var s=t._this$child5;s.$s(t.$c$_this$child5),delete t.$c$_this$child5,s.completed();var c=t._this$child6;c.$s(t.$c$_this$child6),delete t.$c$_this$child6,c.completed(),e.completed()};var re=P.Object,ae=re.prototype,se=o.Method=function(t,e){re.apply(this,arguments)},ce=se.prototype=Object.create(ae);ce.constructor=se,ce.componentName="controls.web.api.Method",s.addProperty(ce,"string","type","GET"),s.addProperty(ce,"string","name"),s.addProperty(ce,"string","path"),ce.args=function(){},ce.call=function(t,e){var i=this.args.length;if(e.length<i+2)throw new Error("not enough arguments for method "+this.name);i=e.length-2;var o=Array.prototype.slice.call(e,0,i),n=this.args.apply(this,o),r=e[i+0],a=e[i+1],s={},c=this.headers(s);void 0!==c&&(s=c);var l=this.pathArgs(this.path,o);t.call(l,r,a,this.type,n,s)},ce.headers=function(t){},ce.pathArgs=function(t,e){t=this.path;var i=0;return t=t.replace(/\{(\w+)\}/g,function(t){return i<e.length?e[i++]:""})},P._protoOnChanged(ce,"name",function(t){this.parent._registerMethod(this.name,this)}),ce.$c=function(t){ae.$c.call(this,t.$b={})},ce.$s=function(t){ae.$s.call(this,t.$b),delete t.$b,this.completed()};var le=P.BaseLayout,he=le.prototype,de=P.BaseView=function(t,e){le.apply(this,arguments),this._items=[],this._modelUpdate=new P.model.ModelUpdate,this._attached=null,this._modelReset=this._onReset.bind(this),this._modelRowsInserted=this._onRowsInserted.bind(this),this._modelRowsChanged=this._onRowsChanged.bind(this),this._modelRowsRemoved=this._onRowsRemoved.bind(this)},pe=de.prototype=Object.create(he);pe.constructor=de,pe.componentName="core.BaseView",pe.layoutFinished=P.createSignal("layoutFinished"),pe.scrollEvent=P.createSignal("scrollEvent"),pe.modelUpdated=P.createSignal("modelUpdated"),s.addProperty(pe,"Item","highlight"),s.addProperty(pe,"Object","model"),s.addProperty(pe,"Item","delegate"),s.addProperty(pe,"int","contentX"),s.addProperty(pe,"int","contentY"),s.addProperty(pe,"int","scrollingStep",0),s.addProperty(pe,"int","animationDuration",0),s.addProperty(pe,"string","animationEasing","ease"),s.addProperty(pe,"bool","contentFollowsCurrentItem"),s.addProperty(pe,"bool","nativeScrolling"),s.addProperty(pe,"real","prerender",.5),s.addProperty(pe,"string","visibilityProperty"),s.addProperty(pe,"BaseViewContent","content"),s.addProperty(pe,"ContentMargin","contentMargin"),pe.Contain=0,de.Contain=0,pe.Center=1,de.Center=1,pe.Visible=2,de.Visible=2,pe.Page=3,de.Page=3,s.addProperty(pe,"enum","positionMode"),pe.discard=function(){this._detach(),P.BaseLayout.prototype.discard.apply(this)},pe._updateHighlightForCurrentItem=function(){this._updateHighlight(this.itemAtIndex(this.currentIndex))},pe.focusCurrent=function(){var t=this.count;if(0!==t){var e=this.currentIndex;if(e<0||t<=e)this.keyNavigationWraps?this.currentIndex=(e+t)%t:this.currentIndex=e<0?0:t-1;else{var i=this.itemAtIndex(e);i&&this.focusChild(i),this.contentFollowsCurrentItem&&!this._skipPositioning&&this.positionViewAtIndex(e),this._updateHighlight(i)}}},pe._processUpdates=function(){var t=this._modelUpdate.apply(this);qml.core.BaseLayout.prototype._processUpdates.apply(this),this.count=this._items.length,t&&this.modelUpdated()},pe._attach=function(){var t=this._get("model",!0);if(!this._attached&&this.model&&this.delegate){this.trace&&log("attaching model...");var e=P.Model,i=typeof(t=this.model);if(void 0!==e&&t instanceof e);else if(Array.isArray(t))t=new P.model.ArrayModelWrapper(t);else{if("number"!==i)throw new Error("unknown value of type '"+typeof t+"', attached to model property: "+t+("object"===i&&"componentName"in t?", component name: "+t.componentName:""));for(var o=[],n=0;n<t;++n)o.push({});t=new P.model.ArrayModelWrapper(o)}t.on("reset",this._modelReset),t.on("rowsInserted",this._modelRowsInserted),t.on("rowsChanged",this._modelRowsChanged),t.on("rowsRemoved",this._modelRowsRemoved),this._attached=t,this._onReset()}},pe._detach=function(){var t=this._get("model",!0);(t=this._attached)&&(this.trace&&log("detaching model..."),this._attached=null,t.removeListener("reset",this._modelReset),t.removeListener("rowsInserted",this._modelRowsInserted),t.removeListener("rowsChanged",this._modelRowsChanged),t.removeListener("rowsRemoved",this._modelRowsRemoved))},pe._onReset=function(){var t=this._get("model",!0);t=this._attached;this.trace&&log("reset",this._items.length,t.count),this._modelUpdate.reset(t),this._scheduleLayout()},pe.__complete=function(){he.__complete.call(this);var i=this;this.element.on("scroll",function(){var t=i.element.getScrollX(),e=i.element.getScrollY();i._updateScrollPositions(t,e),i.scrollEvent(t,e)}.bind(this))},pe._updateItems=function(t,e){for(var i=t;i<e;++i)this._updateDelegate(i)},pe._onRowsChanged=function(t,e){this.trace&&log("rows changed",t,e),this._modelUpdate.update(this._attached,t,e),this._scheduleLayout()},pe._onRowsInserted=function(t,e){this.trace&&log("rows inserted",t,e),this._modelUpdate.insert(this._attached,t,e),this._scheduleLayout()},pe._onRowsRemoved=function(t,e){this.trace&&log("rows removed",t,e),this._modelUpdate.remove(this._attached,t,e),this._scheduleLayout()},pe._removeItems=function(t,e){var i=this._items.splice(t,e-t),o=this;i.forEach(function(t){o._discardItem(t)})},pe._insertItems=function(t,e){var i=e-t+2,o=new Array(i);o[0]=t,o[1]=0;for(var n=2;n<i;++n)o[n]=null;Array.prototype.splice.apply(this._items,o)},pe._updateDelegateIndex=function(t){var e=this._items[t];e&&(e._local.model.index=t,e._createPropertyStorage("_rowIndex").callOnChanged(e,"_rowIndex"))},pe._updateDelegate=function(t){var e=this._items[t];if(e){var i=this._attached.get(t);i.index=t,e._local.model=i,e._createPropertyStorage("_row").callOnChanged(e,"_row",i,{})}},pe.itemAtIndex=function(t){var e=this._items[t];return e||null},pe._createDelegate=function(t,e){var i=this._items,o=i[t];if(null!=o)return o;var n=this.visibilityProperty,r=this._attached.get(t);return this.trace&&log("createDelegate",t,r),n&&!r[n]?null:(r.index=t,o=this.delegate(this,r),(i[t]=o).view=this,o.element.remove(),void 0===e?this.content.element.append(o.element):e.call(this,o),o.recursiveVisible=this.recursiveVisible&&o.visible&&o.visibleInView,o)},pe._discardItem=function(t){null!==t&&(this.focusedChild===t&&(this.focusedChild=null),t.discard())},pe._updateHighlight=function(t){var e=this.highlight;e&&t&&(e.viewX=t.viewX,e.viewY=t.viewY,e.width=t.width,e.height=t.height,e.newBoundingBox())},pe.positionViewAtItemHorizontally=function(t,e,i){var o=this.contentX,n=(this.contentY,t[0]),r=(t[1],t[2]),a=(t[3],this.width),s=(this.height,this.contentMargin.right),c=this.contentMargin.left,l=n-a/2+r/2;a<r?this.contentX=i?l:n:e&&this.contentWidth>a?this.contentX=l<-c?-c:n>this.contentWidth-a/2-r/2+s?this.contentWidth-a+s:l:n<=c?this.contentX=-c:n-o<=0?this.contentX=n:a<n-o+r&&(this.contentX=n+r-a+s)},pe.positionViewAtItemVertically=function(t,e,i){this.contentX;var o=this.contentY,n=(t[0],t[1]),r=(t[2],t[3]),a=(this.width,this.height),s=this.contentMargin.top,c=this.contentMargin.bottom,l=n-a/2+r/2;a<r?this.contentY=i?l:n:e&&this.contentHeight>a?this.contentY=l<-s?-s:n>this.contentHeight-a/2-r/2+c?this.contentHeight-a+c:l:n<=s?this.contentY=-s:n-o<=0?this.contentY=n:a<n-o+r+c&&(this.contentY=n+r-a+c)},pe.itemAt=function(t,e){var i=this.indexAt(t,e);return 0<=i?this._items[i]:null},pe._updateScrollPositions=function(t,e,i){this._setProperty("contentX",t),this._setProperty("contentY",e),this.content._updateScrollPositions(t,e,i)},P._protoOnChanged(pe,"contentX",function(t){this.nativeScrolling?this.element.setScrollX(t):this.content.x=-t}),P._protoOnChanged(pe,"contentY",function(t){this.nativeScrolling?this.element.setScrollY(t):this.content.y=-t}),P._protoOnChanged(pe,"model",function(t){this.trace&&log("model changed to ",t),this._detach(),this._modelUpdate.clear(),this._removeItems(0,this.count),this.count=0,this._scheduleLayout()}),P._protoOnChanged(pe,"recursiveVisible",function(e){e&&this._scheduleLayout();var i=this;this._items.forEach(function(t){null!==t&&i._updateVisibilityForChild(t,e)}),this._updateVisibilityForChild(this.content,e);var t=this.highlight;t&&this._updateVisibilityForChild(t,e)}),P._protoOnChanged(pe,"delegate",function(t){t&&(t.visible=!1)}),P._protoOnChanged(pe,"currentIndex",function(t){this.focusCurrent()}),P._protoOnChanged(pe,"highlight",function(t){var e=t;e&&(e.view=this,e.element.remove(),this.content.element.prepend(e.element))}),P._protoOnChanged(pe,"focusedChild",function(t){var e=this._items.indexOf(this.focusedChild);0<=e&&(this.currentIndex=e)});$=function(t){this._scheduleLayout()};P._protoOnChanged(pe,"width",$),P._protoOnChanged(pe,"height",$),P._protoOn(pe,"layoutFinished",function(){this.focusCurrent(),this._updateHighlightForCurrentItem()}),pe.$c=function(t){he.$c.call(this,t.$b={});var e=new P.BaseViewContent(this);(t._this$content=e).$c(t.$c$_this$content={}),this.content=e;var i=new P.ContentMargin(this);(t._this$contentMargin=i).$c(t.$c$_this$contentMargin={}),this.contentMargin=i},pe.$s=function(t){var e=this;he.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("contentFollowsCurrentItem",function(){e.contentFollowsCurrentItem=!e.nativeScrolling},[e,"nativeScrolling"]),e._replaceUpdater("nativeScrolling",function(){e.nativeScrolling=e._context.system.device===e._context.system.Mobile},[e._context.system,"device",e._context.system,"Mobile"]),e._removeUpdater("contentWidth"),e.contentWidth=1,e._removeUpdater("contentHeight"),e.contentHeight=1,e._removeUpdater("keyNavigationWraps"),e.keyNavigationWraps=!0,e._removeUpdater("handleNavigationKeys"),e.handleNavigationKeys=!0,e._replaceUpdater("cssPointerTouchEvents",function(){e.cssPointerTouchEvents=e.nativeScrolling},[e,"nativeScrolling"]);var i=t._this$content;i.$s(t.$c$_this$content),delete t.$c$_this$content,i._replaceUpdater("cssTranslatePositioning",function(){i.cssTranslatePositioning=i.parent.cssTranslatePositioning},[i.parent,"cssTranslatePositioning"]),i._replaceUpdater("cssPointerTouchEvents",function(){i.cssPointerTouchEvents=i.parent.cssPointerTouchEvents},[i.parent,"cssPointerTouchEvents"]);var o,n={behavior__this_content_on_x:o=new P.Animation(i)};o.$c(n.$c$behavior__this_content_on_x={}),(o=n.behavior__this_content_on_x).$s(n.$c$behavior__this_content_on_x),delete n.$c$behavior__this_content_on_x,o._replaceUpdater("duration",function(){o.duration=o.parent.parent.nativeScrolling?0:o.parent.parent.animationDuration},[o.parent.parent,"nativeScrolling",o.parent.parent,"animationDuration"]),o._replaceUpdater("easing",function(){o.easing=o.parent.parent.animationEasing},[o.parent.parent,"animationEasing"]),o.completed(),i.setAnimation("x",o);var r,a={behavior__this_content_on_y:r=new P.Animation(i)};r.$c(a.$c$behavior__this_content_on_y={}),(r=a.behavior__this_content_on_y).$s(a.$c$behavior__this_content_on_y),delete a.$c$behavior__this_content_on_y,r._replaceUpdater("duration",function(){r.duration=r.parent.parent.nativeScrolling?0:r.parent.parent.animationDuration},[r.parent.parent,"nativeScrolling",r.parent.parent,"animationDuration"]),r._replaceUpdater("easing",function(){r.easing=r.parent.parent.animationEasing},[r.parent.parent,"animationEasing"]),r.completed(),i.setAnimation("y",r);var s,c={behavior__this_content_on_transform:s=new P.Animation(i)};s.$c(c.$c$behavior__this_content_on_transform={}),(s=c.behavior__this_content_on_transform).$s(c.$c$behavior__this_content_on_transform),delete c.$c$behavior__this_content_on_transform,s._replaceUpdater("duration",function(){s.duration=s.parent.parent.nativeScrolling?0:s.parent.parent.animationDuration},[s.parent.parent,"nativeScrolling",s.parent.parent,"animationDuration"]),s._replaceUpdater("easing",function(){s.easing=s.parent.parent.animationEasing},[s.parent.parent,"animationEasing"]),s.completed(),i.setAnimation("transform",s),i.completed();var l=t._this$contentMargin;l.$s(t.$c$_this$contentMargin),delete t.$c$_this$contentMargin,l.completed(),e.completed()};var ue=P.BaseView,fe=ue.prototype,ge=P.ListView=function(t,e){ue.apply(this,arguments),this._sizes=[],this._scrollDelta=0},_e=ge.prototype=Object.create(fe);_e.constructor=ge,_e.componentName="core.ListView",_e.Vertical=0,ge.Vertical=0,_e.Horizontal=1,ge.Horizontal=1,s.addProperty(_e,"enum","orientation"),_e._updateOverflow=function(){if(this.nativeScrolling){var t={};this.orientation===this.Horizontal?(t["overflow-x"]="auto",t["overflow-y"]="hidden"):(t["overflow-x"]="hidden",t["overflow-y"]="auto"),this.style(t)}else P.Item.prototype._updateOverflow.apply(this,arguments)},_e.__complete=function(){fe.__complete.call(this),this._updateOverflow()},_e.move=function(t,e){var i,o,n=this.orientation===this.Horizontal;n&&this.contentWidth>this.width?((i=this.contentX+t)<0?i=0:i>this.contentWidth-this.width&&(i=this.contentWidth-this.width),this.contentX=i):!n&&this.contentHeight>this.height&&((o=this.contentY+e)<0?o=0:o>this.contentHeight-this.height&&(o=this.contentHeight-this.height),this.contentY=o)},_e.positionViewAtIndex=function(t){this.trace&&log("positionViewAtIndex "+t);var e=this.orientation===this.Horizontal,i=this.getItemPosition(t),o=this.positionMode===this.Center;e?this.positionViewAtItemHorizontally(i,o,!0):this.positionViewAtItemVertically(i,o,!0)},_e._createDelegate=function(n){var r=P.BaseView.prototype._createDelegate.apply(this,arguments),t=function(t){this._scheduleLayout();var e=this.orientation===this.Horizontal;if(this.nativeScrolling&&e==t){var i=e?r.viewX:r.viewY,o=e?r.width:r.height;i<(e?this.element.getScrollX():this.element.getScrollY())&&(this._scrollDelta+=o-this._sizes[n])}};return this.connectOnChanged(r,"width",t.bind(this,!0)),this.connectOnChanged(r,"height",t.bind(this,!1)),r},_e.getItemPosition=function(t){var e=this._items,i=e[t];if(i)return[i.viewX+i.x,i.viewY+i.y,i.width,i.height];for(var o=0,n=0,r=0,a=0,s=t;0<=s;--s)if(e[s]){o=(i=e[s]).viewX+i.x,n=i.viewY+i.y,r=i.width,a=i.height;break}var c=t-s;return 0<c&&(o+=c*(r+this.spacing),n+=c*(a+this.spacing)),[o,n,r,a]},_e._layout=function(t){var e=this._get("model",!0);if(e=this._attached)if(this.count=e.count,this.recursiveVisible||this.offlineLayout){var i=this.orientation===this.Horizontal,o=this._padding,n=o.left||0,r=o.top||0,a=this._items,s=this._sizes,c=a.length,l=this.width-n-(o.right||0),h=this.height-r-(o.bottom||0),d=!1,p=i?n:r,u=p,f=i?this.content.x:this.content.y,g=i?l:h,_=0,y=0,m=this.currentIndex,v=!t,$=t?0:this.prerender*g,b=-$,w=g+$;0!=this._scrollDelta&&(this.nativeScrolling&&(i?this.element.setScrollX(this.element.getScrollX()-this._scrollDelta):this.element.setScrollY(this.element.getScrollY()-this._scrollDelta)),this._scrollDelta=0),this.trace&&log("layout "+c+" into "+l+"x"+h+" @ "+this.content.x+","+this.content.y+", prerender: "+$+", range: "+b+":"+w);for(var x,C=i?function(t){return t.width}:function(t){return t.height},P=0,S=0;S<c&&(void 0===x||u+f<w);++S,++P){var k=a[S],A=u+f,O=s[S]||x;void 0===x&&void 0!==O&&(x=O);var I=b<=A+(void 0!==O?O:0)&&A<w||m===S;if(k||(I||void 0===O)&&(k=this._createDelegate(S),d=!0),k&&(O=x=s[S]=C(k)),k){var T=0<=A+O&&A<g;k.x+k.width>_&&(_=k.width+k.x),k.y+k.height>y&&(y=k.height+k.y),i?k.viewX=u:k.viewY=u,m!==S||k.focused||this.focusChild(k),k.visibleInView=T,!I&&v&&(this.trace&&log("discarding delegate",S),this._discardItem(k),d=!(a[S]=null))}else{var U=u+x;i?_<U&&(_=U):y<U&&(y=U)}u+=O+this.spacing}for(;S<c;++S){(k=a[S])&&(k.visibleInView=!1,v&&(this._discardItem(k),d=!(a[S]=null)))}p<u&&(u-=this.spacing),s.length>a.length&&(s=s.slice(0,a.length)),P&&(u*=a.length/P),this.trace&&log("result: "+u+", max: "+_+"x"+y),i?(this.content.width=u,this.content.height=y,this.contentWidth=u,this.contentHeight=y):(this.content.width=_,this.content.height=u,this.contentWidth=_,this.contentHeight=u),this.layoutFinished(),d&&this._context.scheduleComplete()}else this.layoutFinished();else this.layoutFinished()},_e.indexAt=function(t,e){var i=this._items;if(t+=this.contentX,e+=this.contentY,this.orientation===C.core.ListView.prototype.Horizontal)for(var o=0;o<i.length;++o){if(r=i[o]){var n=r.viewX;if(n<=t&&t<n+r.width)return o}}else for(o=0;o<i.length;++o){var r;if(r=i[o]){var a=r.viewY;if(a<=e&&e<a+r.height)return o}}return-1},P._protoOnChanged(_e,"orientation",function(t){this._updateOverflow(),this._scheduleLayout(),this._sizes=[]}),P._protoOnChanged(_e,"nativeScrolling",function(t){this._updateOverflow()}),P._protoOnKey(_e,"Key",function(t,e){if(!this.handleNavigationKeys)return e.accepted=!1;if(this.orientation===this.Horizontal){if("Left"===t)return 0!==this.currentIndex||this.keyNavigationWraps?(0===this.currentIndex&&this.keyNavigationWraps?this.currentIndex=this.count-1:--this.currentIndex,e.accepted=!0):e.accepted=!1;if("Right"===t)return this.currentIndex!==this.count-1||this.keyNavigationWraps?(this.currentIndex===this.count-1&&this.keyNavigationWraps?this.currentIndex=0:++this.currentIndex,e.accepted=!0):e.accepted=!1}else{if("Up"===t)return 0!==this.currentIndex||this.keyNavigationWraps?(0===this.currentIndex&&this.keyNavigationWraps?this.currentIndex=this.count-1:--this.currentIndex,!0):e.accepted=!1;if("Down"===t)return this.currentIndex!==this.count-1||this.keyNavigationWraps?(this.currentIndex===this.count-1&&this.keyNavigationWraps?this.currentIndex=0:++this.currentIndex,e.accepted=!0):e.accepted=!1}}),_e.$c=function(t){fe.$c.call(this,t.$b={})},_e.$s=function(t){fe.$s.call(this,t.$b),delete t.$b,this.completed()};var ye=P.BaseMixin,me=ye.prototype,ve=p.CssMixin=function(t,e){ye.apply(this,arguments)},$e=ve.prototype=Object.create(me);$e.constructor=ve,$e.componentName="controls.mixins.CssMixin",s.addProperty($e,"string","rules"),$e.__complete=function(){me.__complete.call(this);var t=this.parent.componentName;if(!C[t]&&void 0!==C.html5){var e=new C.html5.html.Element(this,document.createElement("style"));e.setHtml(this.rules),C.html5.html.getElement(this._context,"head").append(e),C[t]=!0}this.parent.element.addClass(t)},$e.$c=function(t){me.$c.call(this,t.$b={})},$e.$s=function(t){me.$s.call(this,t.$b),delete t.$b,this.completed()};var be=P.ListView,we=be.prototype,xe=d.ProgramList=function(t,e){be.apply(this,arguments)},Ce=xe.prototype=Object.create(we);Ce.constructor=xe,Ce.componentName="src.ProgramList",Ce.show=P.createSignal("show"),Ce.choosed=P.createSignal("choosed"),s.addProperty(Ce,"int","selectedIndex"),P._protoOnChanged(Ce,"count",function(t){t&&this.choosed(0)}),Ce.$c=function(t){we.$c.call(this,t.$b={});var e=new P.ListModel(this);(t._this$model=e).$c(t.$c$_this$model={}),this.model=e,this.delegate=function(t,e){var i,o={delegate:i=new d.ProgramItem(t,e)};return i.$c(o.$c$delegate={}),(i=o.delegate).$s(o.$c$delegate),delete o.$c$delegate,i.on("clicked",function(){var t=this._get("model",!0);this.parent.choosed(t.index)}.bind(i)),i.onPressed("Select",function(t,e){var i=this._get("model",!0);this.parent.choosed(i.index),this.parent.show()}.bind(i)),i.completed(),i}},Ce.$s=function(t){var e=this;we.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.parent.width-120*e._context.virtualScale},[e.parent,"width",e._context,"virtualScale"]),e._replaceUpdater("height",function(){e.height=313*e._context.virtualScale},[e._context,"virtualScale"]),e._replaceUpdater("spacing",function(){e.spacing=20*e._context.virtualScale},[e._context,"virtualScale"]),e._removeUpdater("orientation"),e.orientation=C.core.ListView.prototype.Horizontal,e._removeUpdater("keyNavigationWraps"),e.keyNavigationWraps=!1;var i=t._this$model;i.$s(t.$c$_this$model),delete t.$c$_this$model,i.completed(),e.completed()};var Pe=P.Object,Se=Pe.prototype,ke=P.Border=function(t,e){Pe.apply(this,arguments)},Ae=ke.prototype=Object.create(Se);Ae.constructor=ke,Ae.componentName="core.Border",s.addProperty(Ae,"int","width"),s.addProperty(Ae,"color","color","black"),s.addLazyProperty(Ae,"left",function(t,e){var i,o={lazy$left:i=new P.BorderSide(t,e)};return i.$c(o.$c$lazy$left={}),(i=o.lazy$left).$s(o.$c$lazy$left),delete o.$c$lazy$left,i._removeUpdater("name"),i.name="left",i.completed(),i}),s.addLazyProperty(Ae,"right",function(t,e){var i,o={lazy$right:i=new P.BorderSide(t,e)};return i.$c(o.$c$lazy$right={}),(i=o.lazy$right).$s(o.$c$lazy$right),delete o.$c$lazy$right,i._removeUpdater("name"),i.name="right",i.completed(),i}),s.addLazyProperty(Ae,"top",function(t,e){var i,o={lazy$top:i=new P.BorderSide(t,e)};return i.$c(o.$c$lazy$top={}),(i=o.lazy$top).$s(o.$c$lazy$top),delete o.$c$lazy$top,i._removeUpdater("name"),i.name="top",i.completed(),i}),s.addLazyProperty(Ae,"bottom",function(t,e){var i,o={lazy$bottom:i=new P.BorderSide(t,e)};return i.$c(o.$c$lazy$bottom={}),(i=o.lazy$bottom).$s(o.$c$lazy$bottom),delete o.$c$lazy$bottom,i._removeUpdater("name"),i.name="bottom",i.completed(),i}),Ae.None=0,ke.None=0,Ae.Hidden=1,ke.Hidden=1,Ae.Dotted=2,ke.Dotted=2,Ae.Dashed=3,ke.Dashed=3,Ae.Solid=4,ke.Solid=4,Ae.Double=5,ke.Double=5,Ae.Groove=6,ke.Groove=6,Ae.Ridge=7,ke.Ridge=7,Ae.Inset=8,ke.Inset=8,Ae.Outset=9,ke.Outset=9,s.addProperty(Ae,"enum","style",ke.Solid),Ae.Inner=0,ke.Inner=0,Ae.Outer=1,ke.Outer=1,Ae.Center=2,ke.Center=2,s.addProperty(Ae,"enum","type"),Ae._update=function(){var t=this.parent,e=this.width;switch(t.style("border-width",e),this.type){case this.Inner:t._borderXAdjust=0,t._borderYAdjust=0,t._borderInnerWidthAdjust=-2*e,t._borderInnerHeightAdjust=-2*e,t._setSizeAdjust();break;case this.Outer:t._borderXAdjust=-e,t._borderYAdjust=-e,t._borderWidthAdjust=0,t._borderHeightAdjust=0,t._setSizeAdjust();break;case this.Center:t._borderXAdjust=-e/2,t._borderYAdjust=-e/2,t._borderWidthAdjust=-e,t._borderHeightAdjust=-e,t._setSizeAdjust()}},P._protoOnChanged(Ae,"width",function(t){this._update()}),P._protoOnChanged(Ae,"color",function(t){var e=P.Color.normalize(this.color);this.parent.style("border-color",e)}),P._protoOnChanged(Ae,"type",function(t){var e;switch(t){case this.Inner:e="border-box";break;case this.Outer:case this.Center:e="content-box"}this.parent.style("box-sizing",e),this._update()}),P._protoOnChanged(Ae,"style",function(t){var e;switch(t){case this.None:e="none";break;case this.Hidden:e="hidden";break;case this.Dotted:e="dotted";break;case this.Dashed:e="dashed";break;case this.Solid:e="solid";break;case this.Double:e="double";break;case this.Groove:e="groove";break;case this.Ridge:e="ridge";break;case this.Inset:e="inset";break;case this.Outset:e="outset"}this.parent.style("border-style",e)}),Ae.$c=function(t){Se.$c.call(this,t.$b={})},Ae.$s=function(t){Se.$s.call(this,t.$b),delete t.$b,this.completed()};var Oe=P.Object,Ie=Oe.prototype,Te=P.Timer=function(t,e){Oe.apply(this,arguments),this._trigger=this._context.wrapNativeCallback(this.triggered.bind(this))},Ue=Te.prototype=Object.create(Ie);Ue.constructor=Te,Ue.componentName="core.Timer",Ue.triggered=P.createSignal("triggered"),s.addProperty(Ue,"int","interval",1e3),s.addProperty(Ue,"bool","repeat"),s.addProperty(Ue,"bool","running"),s.addProperty(Ue,"bool","triggeredOnStart"),Ue._restart=function(){if(this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._interval&&(clearInterval(this._interval),this._interval=void 0),this.running){this._context;this.repeat?this._interval=setInterval(this._trigger,this.interval):this._timeout=setTimeout(this._trigger,this.interval)}},Ue.__complete=function(){Ie.__complete.call(this),this.running&&this.triggeredOnStart&&this.triggered()},Ue.stop=function(){this.running=!1},Ue.start=function(){this.running=!0},Ue.restart=function(){this.stop(),this.start()},P._protoOnChanged(Ue,"running",function(t){this._restart(),t&&this.triggeredOnStart&&(this._triggered=!1,this.triggered())});$=function(t){this._restart()};P._protoOnChanged(Ue,"interval",$),P._protoOnChanged(Ue,"repeat",$),P._protoOn(Ue,"triggered",function(){this.repeat||this.triggeredOnStart&&!this._triggered||(this.running=!1),this._triggered=!0}),Ue.$c=function(t){Ie.$c.call(this,t.$b={})},Ue.$s=function(t){Ie.$s.call(this,t.$b),delete t.$b,this.completed()};var Ee=t.BaseActivity,ze=Ee.prototype,Le=t.Activity=function(t,e){Ee.apply(this,arguments)},De=Le.prototype=Object.create(ze);De.constructor=Le,De.componentName="controls.core.Activity",De.getActivity=function(){return this},De.stop=function(){this.active=!1,this.stopped()},De.start=function(){this.active=!0,this.started()},De.$c=function(t){ze.$c.call(this,t.$b={})},De.$s=function(t){ze.$s.call(this,t.$b),delete t.$b,this.completed()};var Me=P.Item,Re=Me.prototype,Ne=P.Text=function(t,e){Me.apply(this,arguments),this._context.backend.initText(this),0<this.text.length&&this._setText(this.text)},He=Ne.prototype=Object.create(Re);He.constructor=Ne,He.componentName="core.Text",s.addProperty(He,"string","text"),s.addProperty(He,"color","color"),s.addLazyProperty(He,"shadow",function(t,e){var i,o={lazy$shadow:i=new P.Shadow(t,e)};return i.$c(o.$c$lazy$shadow={}),(i=o.lazy$shadow).$s(o.$c$lazy$shadow),delete o.$c$lazy$shadow,i.completed(),i}),s.addLazyProperty(He,"font",function(t,e){var i,o={lazy$font:i=new P.Font(t,e)};return i.$c(o.$c$lazy$font={}),(i=o.lazy$font).$s(o.$c$lazy$font),delete o.$c$lazy$font,i.completed(),i}),s.addProperty(He,"int","paintedWidth"),s.addProperty(He,"int","paintedHeight"),He.AlignLeft=0,Ne.AlignLeft=0,He.AlignRight=1,Ne.AlignRight=1,He.AlignHCenter=2,Ne.AlignHCenter=2,He.AlignJustify=3,Ne.AlignJustify=3,s.addProperty(He,"enum","horizontalAlignment"),He.AlignTop=0,Ne.AlignTop=0,He.AlignBottom=1,Ne.AlignBottom=1,He.AlignVCenter=2,Ne.AlignVCenter=2,s.addProperty(He,"enum","verticalAlignment"),He.NoWrap=0,Ne.NoWrap=0,He.WordWrap=1,Ne.WordWrap=1,He.WrapAnywhere=2,Ne.WrapAnywhere=2,He.Wrap=3,Ne.Wrap=3,s.addProperty(He,"enum","wrapMode"),He.Html=0,Ne.Html=0,He.Text=1,Ne.Text=1,s.addProperty(He,"enum","textFormat"),He._updateSize=function(){this.recursiveVisible&&(this._updateSizeNeeded||this.clip)&&this._scheduleUpdateSize()},He._updateStyle=function(){this.shadow&&!this.shadow._empty()?this.style("text-shadow",this.shadow._getFilterStyle()):this.style("text-shadow",""),P.Item.prototype._updateStyle.apply(this,arguments)},He._updateSizeImpl=function(){if(0===this.text.length)return this.paintedWidth=0,void(this.paintedHeight=0);this._context.backend.layoutText(this)},He._scheduleUpdateSize=function(){this._context.delayedAction("text:update-size",this,this._updateSizeImpl)},He._enableSizeUpdate=function(){this._updateSizeNeeded=!0,this._updateSize()},He._updateWSHandling=function(){var t=this.textFormat===this.Text;switch(this.wrapMode){case this.NoWrap:this.style({"white-space":t?"pre":"nowrap","word-break":""});break;case this.Wrap:case this.WordWrap:this.style({"white-space":t?"pre-wrap":"normal","word-break":""});break;case this.WrapAnywhere:this.style({"white-space":t?"pre-wrap":"normal","word-break":"break-all"})}this._updateSize()},He.getClass=function(){return"core-text"},He._setText=function(t){this._context.backend.setText(this,t)},He.on=function(t,e){this._updateSizeNeeded||"newBoundingBox"===t&&this._enableSizeUpdate(),P.Item.prototype.on.apply(this,arguments)},He.onChanged=function(t,e){if(!this._updateSizeNeeded)switch(t){case"right":case"width":case"bottom":case"height":case"verticalCenter":case"horizontalCenter":this._enableSizeUpdate()}P.Item.prototype.onChanged.apply(this,arguments)},He.registerStyle=function(t,e){t.addRule(e,"width: auto; height: auto;")},P._protoOnChanged(He,"recursiveVisible",function(t){t&&this._updateSize()}),P._protoOnChanged(He,"horizontalAlignment",function(t){switch(t){case this.AlignLeft:this.style("text-align","left");break;case this.AlignRight:this.style("text-align","right");break;case this.AlignHCenter:this.style("text-align","center");break;case this.AlignJustify:this.style("text-align","justify")}}),P._protoOnChanged(He,"verticalAlignment",function(t){if(this._enableSizeUpdate(),$manifest$requireVerticalTextAlignmentStyle)switch(t){case this.AlignTop:this.style("-pure-text-vertical-align","top");break;case this.AlignVCenter:this.style("-pure-text-vertical-align","middle");break;case this.AlignBottom:this.style("-pure-text-vertical-align","bottom")}});$=function(t){this._updateWSHandling()};P._protoOnChanged(He,"textFormat",$),P._protoOnChanged(He,"wrapMode",$),P._protoOnChanged(He,"text",function(t){this._setText(t),this._updateSize()});b=function(t){this._updateSize()};P._protoOnChanged(He,"width",b),P._protoOnChanged(He,"height",b),P._protoOnChanged(He,"color",function(t){this.style("color",P.Color.normalize(t))}),He.$c=function(t){Re.$c.call(this,t.$b={})},He.$s=function(t){var e=this;Re.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.paintedWidth},[e,"paintedWidth"]),e._replaceUpdater("height",function(){e.height=e.paintedHeight},[e,"paintedHeight"]),e.completed()};var Ve=P.Text,je=Ve.prototype,Fe=u.EllipsisText=function(t,e){Ve.apply(this,arguments)},Be=Fe.prototype=Object.create(je);Be.constructor=Fe,Be.componentName="controls.web.EllipsisText",s.addProperty(Be,"bool","active",!0),Be.__complete=function(){je.__complete.call(this),this.updateStyle()},Be.updateStyle=function(){this.style("text-overflow",this.active?"ellipsis":"clip")},P._protoOnChanged(Be,"active",function(t){this.updateStyle()}),Be.$c=function(t){je.$c.call(this,t.$b={})},Be.$s=function(t){je.$s.call(this,t.$b),delete t.$b,this._removeUpdater("clip"),this.clip=!0,this.completed()};var We=P.Object,Ye=We.prototype,Xe=P.Effects=function(t,e){We.apply(this,arguments)},Ke=Xe.prototype=Object.create(Ye);Ke.constructor=Xe,Ke.componentName="core.Effects",s.addProperty(Ke,"real","blur"),s.addProperty(Ke,"real","grayscale"),s.addProperty(Ke,"real","sepia"),s.addProperty(Ke,"real","brightness"),s.addProperty(Ke,"real","contrast"),s.addProperty(Ke,"real","hueRotate"),s.addProperty(Ke,"real","invert"),s.addProperty(Ke,"real","saturate"),s.addLazyProperty(Ke,"shadow",function(t,e){var i,o={lazy$shadow:i=new P.Shadow(t,e)};return i.$c(o.$c$lazy$shadow={}),(i=o.lazy$shadow).$s(o.$c$lazy$shadow),delete o.$c$lazy$shadow,i.completed(),i}),Ke._getFilterStyle=function(){var t=[];return this._addStyle(t,"blur","blur","px"),this._addStyle(t,"grayscale"),this._addStyle(t,"sepia"),this._addStyle(t,"brightness"),this._addStyle(t,"contrast"),this._addStyle(t,"hueRotate","hue-rotate","deg"),this._addStyle(t,"invert"),this._addStyle(t,"saturate"),t},Ke._addStyle=function(t,e,i,o){var n=this[e];n&&t.push((i||e)+"("+n+(o||"")+") ")},Ke._updateStyle=function(t){var e=this._getFilterStyle().join(""),i=this.parent,o={};o["-webkit-filter"]=e,o.filter=e,!this.shadow||this.shadow._empty()&&!t||(o["box-shadow"]=this.shadow._getFilterStyle()),i.style(o)};$=function(t){this._updateStyle()};P._protoOnChanged(Ke,"blur",$),P._protoOnChanged(Ke,"grayscale",$),P._protoOnChanged(Ke,"sepia",$),P._protoOnChanged(Ke,"brightness",$),P._protoOnChanged(Ke,"contrast",$),P._protoOnChanged(Ke,"hueRotate",$),P._protoOnChanged(Ke,"invert",$),P._protoOnChanged(Ke,"saturate",$),Ke.$c=function(t){Ye.$c.call(this,t.$b={})},Ke.$s=function(t){Ye.$s.call(this,t.$b),delete t.$b,this.completed()};var qe=P.Object,Ge=qe.prototype,Je=o.Rest=function(t,e){qe.apply(this,arguments),this._methods={}},Ze=Je.prototype=Object.create(Ge);Ze.constructor=Je,Ze.componentName="controls.web.api.Rest",Ze.error=P.createSignal("error"),Ze.internetConnectionLost=P.createSignal("internetConnectionLost"),s.addProperty(Ze,"string","baseUrl"),Ze.args=function(t){return t},Ze.headers=function(t){},Ze.call=function(t,e,i,o,n,r){if(t.indexOf("://")<0){var a=this.baseUrl;t="/"===a[a.length-1]||"/"===t[0]?a+t:a+"/"+t}this._call(t,e,i,o,JSON.stringify(n),r)},Ze._call=function(t,o,n,r,e,i){var a=this._get("apiRequest",!0),s=i||{};e&&(e=this.args(e),s["Content-Type"]="application/json");var c=this.headers(s);void 0!==c&&(s=c);var l=t,h=this;a.ajax({method:r||"GET",headers:s,contentType:"application/json",url:l,data:e,done:function(e){if(e.target&&400<=e.target.status)return log("Error in request",e),n&&n(e),void h.error({url:l,method:r,response:e});var i=e.target.responseText;if(i){try{e=JSON.parse(i)}catch(t){e=i}o(e)}else o("")},error:function(t){n&&n(t),h.error({url:l,method:r,response:t})}})},Ze._registerMethod=function(t,e){var i=this._get("api",!0);if(t){i=this;this[t]=function(){e.call(i,arguments)}}},P._protoOn(Ze,"error",function(t,e,i){("undefined"!=typeof window&&!window.navigator.onLine||i&&i.target&&0===i.target.status&&""===i.target.response)&&this.internetConnectionLost({url:t,method:e,response:i})}),Ze.$c=function(t){Ge.$c.call(this,t.$b={});var e=new P.Request(this);(t._this$child0=e).$c(t.$c$_this$child0={}),e._setId("apiRequest"),this.addChild(e)},Ze.$s=function(t){Ge.$s.call(this,t.$b),delete t.$b;var e=t._this$child0;e.$s(t.$c$_this$child0),delete t.$c$_this$child0,e.completed(),this.completed()};var Qe=o.Rest,ti=Qe.prototype,ei=d.EchoApi=function(t,e){Qe.apply(this,arguments)},ii=ei.prototype=Object.create(ti);ii.constructor=ei,ii.componentName="src.EchoApi",ii.$c=function(t){ti.$c.call(this,t.$b={});var e=new o.Method(this);(t._this$child0=e).$c(t.$c$_this$child0={}),this.addChild(e)},ii.$s=function(t){ti.$s.call(this,t.$b),delete t.$b;var e=t._this$child0;e.$s(t.$c$_this$child0),delete t.$c$_this$child0,e._removeUpdater("name"),e.name="getFeed",e._removeUpdater("path"),e.path="https://sheets.googleapis.com/v4/spreadsheets/1WPXzZ4JiSOmlyegYEBbEwvxp766Hctaoa4q73rRHgFM/values/for_export?key=AIzaSyBDxzEFP0Z1z37V6zvzX3o1YNW9hHhFX3Y",e.completed(),this.completed()};var oi=P.BaseMixin,ni=oi.prototype,ri=P.ClickMixin=function(t,e){oi.apply(this,arguments),this._bindClick(this.enabled)},ai=ri.prototype=Object.create(ni);ai.constructor=ri,ai.componentName="core.ClickMixin",ai._bindClick=function(t){t&&!this._cmClickBinder&&(this._cmClickBinder=new P.EventBinder(this.element),this._cmClickBinder.on("click",P.createSignalForwarder(this.parent,"clicked").bind(this))),this._cmClickBinder&&this._cmClickBinder.enable(t)},P._protoOnChanged(ai,"enabled",function(t){this._bindClick(t)}),ai.$c=function(t){ni.$c.call(this,t.$b={})},ai.$s=function(t){ni.$s.call(this,t.$b),delete t.$b,this.completed()};var si=P.BaseMouseMixin,ci=si.prototype,li=P.HoverMixin=function(t,e){si.apply(this,arguments),this.element=this.parent.element,this.parent.style("cursor",this.cursor),this._bindHover(this.enabled),i.hasProperty(t,"hovered")||i.addProperty(t,"bool","hovered",!1)},hi=li.prototype=Object.create(ci);hi.constructor=li,hi.componentName="core.HoverMixin",s.addProperty(hi,"bool","value"),hi._bindHover=function(t){t&&!this._hmHoverBinder&&(this._hmHoverBinder=new P.EventBinder(this.parent.element),this._context.backend.capabilities.mouseEnterLeaveSupported?(this._hmHoverBinder.on("mouseenter",function(){this.value=this._trueUnlessTouchEvent()}.bind(this)),this._hmHoverBinder.on("mouseleave",function(){this.value=!1}.bind(this))):(this._hmHoverBinder.on("mouseover",function(){this.value=this._trueUnlessTouchEvent()}.bind(this)),this._hmHoverBinder.on("mouseout",function(){this.value=!1}.bind(this))),this._hmHoverBinder.on("touchstart",this._setTouchEvent.bind(this)),this._hmHoverBinder.on("mouseup",this._resetTouchEvent.bind(this))),this._hmHoverBinder&&this._hmHoverBinder.enable(t)},P._protoOnChanged(hi,"enabled",function(t){this._bindHover(t)}),P._protoOnChanged(hi,"value",function(t){this.parent.hovered=t}),hi.$c=function(t){ci.$c.call(this,t.$b={})},hi.$s=function(t){ci.$s.call(this,t.$b),delete t.$b,this.completed()};var di=P.Item,pi=di.prototype,ui=P.Context=function(t,e){di.apply(this,arguments),this.options=arguments[2],this.l10n=this.options.l10n||{},((this._local.context=this)._context=this)._started=!1,this._completed=!1,this._processingActions=!1,this._delayedActions=[],this._completedObjects=[],this._stylesRegistered={},this._asyncInvoker=P.safeCall(this,[],function(t){log("async action failed:",t,t.stack)}),this.backend=C._backend(),this._init()},fi=ui.prototype=Object.create(pi);fi.constructor=ui,fi.componentName="core.Context",fi.message=P.createSignal("message"),s.addProperty(fi,"int","scrollY"),s.addProperty(fi,"int","keyProcessDelay"),s.addProperty(fi,"string","language"),s.addProperty(fi,"System","system"),s.addProperty(fi,"Location","location"),s.addProperty(fi,"Stylesheet","stylesheet"),s.addProperty(fi,"string","buildIdentifier"),s.addProperty(fi,"int","virtualWidth",$manifest$virtual$width),s.addProperty(fi,"int","virtualHeight",$manifest$virtual$height),s.addProperty(fi,"real","virtualScale"),fi._processActions=function(){if(this._started&&!this._processingActions){this._processingActions=!0;for(var t=this._asyncInvoker;this._delayedActions.length||this._completedObjects.length;){var e=this._delayedActions;this._delayedActions=[];for(var i=0,o=e.length;i<o;++i)t(e[i]);var n=this._completedObjects;this._completedObjects=[];for(i=0,o=n.length;i<o;++i){var r=n[i];try{r.__complete()}catch(t){log("onCompleted failed",t,t.stack)}}}this._processingActions=!1,this.backend.tick(this)}},fi._init=function(){log("Context: initializing..."),new this.backend.init(this)},fi._run=function(){log("Context: signalling layout"),this.visibleInView=!0,this.newBoundingBox(),log("Context: calling completed()"),this._started=!0,this._processActions(),this._completed=!0},fi.init=function(){this.__init(),this.backend.initSystem(this.system)},fi.run=function(){this.backend.run(this,this._run.bind(this))},fi.scheduleComplete=function(){this._get("context",!0);this.delayedAction("context:completed",this,this._processActions)},fi.tr=function(){return this.qsTr.apply(this,arguments)},fi.scheduleAction=function(t){this._delayedActions.push(t)},fi.wrapNativeCallback=function(e){var i=this;return function(){try{var t=e.apply(this,arguments);return i._processActions(),t}catch(t){throw i._processActions(),t}}},fi.start=function(t){return this.children.push(t),t.__init(),log("Context: created instance"),t},fi.registerStyle=function(t,e,i){var o=(i=this.mangleClass(i))?e+"."+i:e;o in this._stylesRegistered||(t.registerStyle(this.stylesheet,o),this._stylesRegistered[o]=!0)},fi.processKey=function(t,e){for(var i=s.forEach(this,P.Item.prototype._enqueueNextChildInFocusChain,[]),o=i.length,n=0;n<o;++n){if(i[n]._processKey(t,e))return!0}return!1},fi.updateL10n=function(t,e){this.l10n[t]=e,this.__properties.language.callOnChanged(this,"language",this.language,this.language)},fi.mangleClass=function(t){return $manifest$html5$prefix+t},fi.delayedAction=function(t,e,i,o){if(e._registerDelayedAction(t)){var n=function(){e._cancelDelayedAction(t),i.call(e)};0<o?setTimeout(this.wrapNativeCallback(n),o):0===o?this.backend.requestAnimationFrame(this.wrapNativeCallback(n)):this.scheduleAction(n)}},fi.__onCompleted=function(t){this._completedObjects.push(t)},fi.createElement=function(t,e){return this.backend.createElement(this,t,e)},fi.qsTr=function(t){var i=arguments,e=this.language,o=(this.l10n[e]||{})[t]||{};for(var n in o){t=o[n];break}return t.replace(/%(\d+)/,function(t,e){return i[e]})},fi.$c=function(t){var e=this;pi.$c.call(this,t.$b={});var i=new P.System(e);(t._this$system=i).$c(t.$c$_this$system={}),e.system=i;var o=new P.Location(e);(t._this$location=o).$c(t.$c$_this$location={}),e.location=o;var n=new r.Stylesheet(e);(t._this$stylesheet=n).$c(t.$c$_this$stylesheet={}),e.stylesheet=n},fi.$s=function(t){var e=this;pi.$s.call(this,t.$b),delete t.$b;var i=t._this$system;i.$s(t.$c$_this$system),delete t.$c$_this$system,i.completed();var o=t._this$location;o.$s(t.$c$_this$location),delete t.$c$_this$location,o.completed();var n=t._this$stylesheet;n.$s(t.$c$_this$stylesheet),delete t.$c$_this$stylesheet,n.completed(),e._replaceUpdater("virtualScale",function(){e.virtualScale=Math.min((e.system.resolutionWidth||e.width)/e.virtualWidth,(e.system.resolutionHeight||e.height)/e.virtualHeight)},[e.system,"resolutionWidth",e,"width",e,"virtualWidth",e.system,"resolutionHeight",e,"height",e,"virtualHeight"]),e._removeUpdater("visibleInView"),e.visibleInView=!1,e.completed()};var gi=P.Object,_i=gi.prototype,yi=P.Device=function(t,e){gi.apply(this,arguments);var i=P.__deviceBackend;if(!i)throw new Error("no backend found");this.impl=i().createDevice(this)},mi=yi.prototype=Object.create(_i);mi.constructor=yi,mi.componentName="core.Device",mi.propertyUpdated=P.createSignal("propertyUpdated"),s.addProperty(mi,"string","macAddress"),s.addProperty(mi,"string","modelName"),s.addProperty(mi,"string","deviceId"),s.addProperty(mi,"string","firmware"),s.addProperty(mi,"string","language"),s.addProperty(mi,"string","country"),s.addProperty(mi,"string","sdk"),s.addProperty(mi,"string","ip"),s.addProperty(mi,"string","runtime"),s.addProperty(mi,"bool","standByMode"),s.addProperty(mi,"bool","supportingUhd"),s.addProperty(mi,"bool","supportingHdr"),s.addProperty(mi,"bool","supporting3d"),P._protoOnChanged(mi,"standByMode",function(t){if(!this.impl)throw new Error("toggleStandByMode: no backend found");this.impl.toggleStandByMode()});$=function(t){this.propertyUpdated()};P._protoOnChanged(mi,"sdk",$),P._protoOnChanged(mi,"deviceId",$),P._protoOnChanged(mi,"firmware",$),P._protoOnChanged(mi,"macAddess",$),P._protoOnChanged(mi,"modelName",$),P._protoOnChanged(mi,"supporting3d",$),P._protoOnChanged(mi,"supportingUhd",$),mi.$c=function(t){_i.$c.call(this,t.$b={})},mi.$s=function(t){_i.$s.call(this,t.$b),delete t.$b,this.completed()};var vi=P.Object,$i=vi.prototype,bi=P.Transform=function(t,e){vi.apply(this,arguments),this._transforms=new P.transform.Transform},wi=bi.prototype=Object.create($i);wi.constructor=bi,wi.componentName="core.Transform",s.addProperty(wi,"int","perspective"),s.addProperty(wi,"int","translateX"),s.addProperty(wi,"int","translateY"),s.addProperty(wi,"int","translateZ"),s.addProperty(wi,"real","rotateX"),s.addProperty(wi,"real","rotateY"),s.addProperty(wi,"real","rotateZ"),s.addProperty(wi,"real","rotate"),s.addProperty(wi,"real","scaleX"),s.addProperty(wi,"real","scaleY"),s.addProperty(wi,"real","skewX"),s.addProperty(wi,"real","skewY"),wi._updateTransform=function(){this.parent.style("transform",this._transforms)},wi._animateAll=function(i){var o=this;["perspective","translateX","translateY","translateZ","rotateX","rotateY","rotateZ","rotate","scaleX","scaleY","skewX","skewY"].forEach(function(t){var e=new P.Animation(o);P.core.createObject(e),e.delay=i.delay,e.duration=i.duration,e.easing=i.easing,o.setAnimation(t,e)})},wi.getAnimation=function(t){var e=P.Object.prototype.getAnimation.call(this,t);return e||(e=P.Object.prototype.getAnimation.call(this.parent,"transform")),e},P._protoOnChanged(wi,"perspective",function(t){this._transforms.add("perspective",t,"px"),this._updateTransform()}),P._protoOnChanged(wi,"rotate",function(t){this._transforms.add("rotate",t,"deg"),this._updateTransform()}),P._protoOnChanged(wi,"rotateX",function(t){this._transforms.add("rotateX",t,"deg"),this._updateTransform()}),P._protoOnChanged(wi,"rotateY",function(t){this._transforms.add("rotateY",t,"deg"),this._updateTransform()}),P._protoOnChanged(wi,"rotateZ",function(t){this._transforms.add("rotateZ",t,"deg"),this._updateTransform()}),P._protoOnChanged(wi,"scaleX",function(t){this._transforms.add("scaleX",t),this._updateTransform()}),P._protoOnChanged(wi,"scaleY",function(t){this._transforms.add("scaleY",t),this._updateTransform()}),P._protoOnChanged(wi,"skewX",function(t){this._transforms.add("skewX",t,"deg"),this._updateTransform()}),P._protoOnChanged(wi,"skewY",function(t){this._transforms.add("skewY",t,"deg"),this._updateTransform()}),P._protoOnChanged(wi,"translateX",function(t){this._transforms.add("translateX",t,"px"),this._updateTransform()}),P._protoOnChanged(wi,"translateY",function(t){this._transforms.add("translateY",t,"px"),this._updateTransform()}),P._protoOnChanged(wi,"translateZ",function(t){this._transforms.add("translateZ",t,"px"),this._updateTransform()}),wi.$c=function(t){$i.$c.call(this,t.$b={})},wi.$s=function(t){$i.$s.call(this,t.$b),delete t.$b,this.completed()};var xi=P.HoverMixin,Ci=xi.prototype,Pi=p.FocusOnHoverMixin=function(t,e){xi.apply(this,arguments)},Si=Pi.prototype=Object.create(Ci);Si.constructor=Pi,Si.componentName="controls.mixins.FocusOnHoverMixin",P._protoOnChanged(Si,"value",function(t){t&&this.parent.setFocus()}),Si.$c=function(t){Ci.$c.call(this,t.$b={})},Si.$s=function(t){Ci.$s.call(this,t.$b),delete t.$b,this._removeUpdater("cursor"),this.cursor="pointer",this.completed()};var ki=P.Object,Ai=ki.prototype,Oi=P.BorderSide=function(t,e){ki.apply(this,arguments)},Ii=Oi.prototype=Object.create(Ai);Ii.constructor=Oi,Ii.componentName="core.BorderSide",s.addProperty(Ii,"string","name"),s.addProperty(Ii,"int","width"),s.addProperty(Ii,"color","color"),s.addProperty(Ii,"int","style"),Ii._updateStyle=function(){if(this.parent&&this.parent.parent&&this.name){var t;P.Border;switch(this.style){case C.core.Border.prototype.None:t="none";break;case C.core.Border.prototype.Hidden:t="hidden";break;case C.core.Border.prototype.Dotted:t="dotted";break;case C.core.Border.prototype.Dashed:t="dashed";break;case C.core.Border.prototype.Solid:t="solid";break;case C.core.Border.prototype.Double:t="double";break;case C.core.Border.prototype.Groove:t="groove";break;case C.core.Border.prototype.Ridge:t="ridge";break;case C.core.Border.prototype.Inset:t="inset";break;case C.core.Border.prototype.Outset:t="outset"}var e=this.width+"px "+t+" "+P.Color.normalize(this.color);this.parent.parent.style("border-"+this.name,e)}};$=function(t){this._updateStyle()};P._protoOnChanged(Ii,"width",$),P._protoOnChanged(Ii,"color",$),P._protoOnChanged(Ii,"style",$),Ii.$c=function(t){Ai.$c.call(this,t.$b={})},Ii.$s=function(t){var e=this;Ai.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("width",function(){e.width=e.parent.width},[e.parent,"width"]),e._replaceUpdater("color",function(){e.color=e.parent.color},[e.parent,"color"]),e._replaceUpdater("style",function(){e.style=e.parent.style},[e.parent,"style"]),e.completed()};var Ti=P.Object,Ui=Ti.prototype,Ei=P.Model=function(t,e){Ti.apply(this,arguments)},zi=Ei.prototype=Object.create(Ui);zi.constructor=Ei,zi.componentName="core.Model",zi.reset=P.createSignal("reset"),zi.rowsInserted=P.createSignal("rowsInserted"),zi.rowsChanged=P.createSignal("rowsChanged"),zi.rowsRemoved=P.createSignal("rowsRemoved"),s.addProperty(zi,"int","count"),zi.$c=function(t){Ui.$c.call(this,t.$b={})},zi.$s=function(t){Ui.$s.call(this,t.$b),delete t.$b,this.completed()};var Li=P.Model,Di=Li.prototype,Mi=P.ListModel=function(t,e){Li.apply(this,arguments),this._rows=[]},Ri=Mi.prototype=Object.create(Di);Ri.constructor=Mi,Ri.componentName="core.ListModel",s.addProperty(Ri,"array","data"),Ri.clear=function(){this.assign([])},Ri.forEach=function(t){return this._rows.forEach(t)},Ri.addChild=function(t){this.append(t)},Ri.move=function(t,e){for(;t<0;)t+=this._rows.length;for(;e<0;)e+=this._rows.length;if(e>=this._rows.length)for(var i=e-this._rows.length;1+i--;)this._rows.push(void 0);this._rows.splice(e,0,this._rows.splice(t,1)[0]),this.reset()},Ri.get=function(t){if(t<0||t>=this._rows.length)throw new Error("index "+t+" out of bounds ("+this._rows.length+")");var e=this._rows[t];if(!(e instanceof Object))throw new Error("row is non-object");return e.index=t,e},Ri.remove=function(t,e){if(t<0||t>=this._rows.length)throw new Error("index "+t+" out of bounds");void 0===e&&(e=1),this._rows.splice(t,e),this.count=this._rows.length,this.rowsRemoved(t,t+e)},Ri.setProperty=function(t,e,i){if(t<0||t>=this._rows.length)throw new Error("index "+t+" out of bounds ("+this._rows.length+")");var o=this._rows[t];if(!(o instanceof Object))throw new Error("row is non-object, invalid index? ("+t+")");return o[e]!==i&&(o[e]=i,this.rowsChanged(t,t+1),!0)},Ri.insert=function(t,e){if(t<0||t>this._rows.length)throw new Error("index "+t+" out of bounds ("+this._rows.length+")");this._rows.splice(t,0,e),this.count=this._rows.length,this.rowsInserted(t,t+1)},Ri.set=function(t,e){if(t<0||t>=this._rows.length)throw new Error("index "+t+" out of bounds ("+this._rows.length+")");if(!(e instanceof Object))throw new Error("row is non-object");this._rows[t]=e,this.rowsChanged(t,t+1)},Ri.append=function(t){var e=this._rows.length;if(Array.isArray(t)){if(0===t.length)return;Array.prototype.push.apply(this._rows,t),this.count=this._rows.length,this.rowsInserted(e,e+t.length)}else this._rows.push(t),this.count=this._rows.length,this.rowsInserted(e,e+1)},Ri.assign=function(t){this._rows=t,this.count=this._rows.length,this.reset()},P._protoOnChanged(Ri,"data",function(t){this.assign(t)}),Ri.$c=function(t){Di.$c.call(this,t.$b={})},Ri.$s=function(t){Di.$s.call(this,t.$b),delete t.$b,this.completed()};var Ni=P.Object,Hi=Ni.prototype,Vi=P.Location=function(t,e){Ni.apply(this,arguments);var i=P.__locationBackend;if(!i)throw new Error("no backend found");this.impl=i().createLocation(this)},ji=Vi.prototype=Object.create(Hi);ji.constructor=Vi,ji.componentName="core.Location",s.addProperty(ji,"string","hash"),s.addProperty(ji,"string","host"),s.addProperty(ji,"string","href"),s.addProperty(ji,"string","port"),s.addProperty(ji,"string","origin"),s.addProperty(ji,"string","hostname"),s.addProperty(ji,"string","pathname"),s.addProperty(ji,"string","protocol"),s.addProperty(ji,"string","search"),s.addProperty(ji,"Object","state"),ji.changeHref=function(t){this.impl.changeHref(t)},ji.pushState=function(t,e,i){this.impl.pushState(t,e,i)},ji.$c=function(t){Hi.$c.call(this,t.$b={})},ji.$s=function(t){Hi.$s.call(this,t.$b),delete t.$b,this.completed()};var Fi=P.Object,Bi=Fi.prototype,Wi=P.Anchors=function(t,e){Fi.apply(this,arguments),this._items=[],this._grabX=!1,this._grabY=!1},Yi=Wi.prototype=Object.create(Bi);Yi.constructor=Wi,Yi.componentName="core.Anchors",s.addProperty(Yi,"AnchorLine","bottom"),s.addProperty(Yi,"AnchorLine","verticalCenter"),s.addProperty(Yi,"AnchorLine","top"),s.addProperty(Yi,"AnchorLine","left"),s.addProperty(Yi,"AnchorLine","horizontalCenter"),s.addProperty(Yi,"AnchorLine","right"),s.addProperty(Yi,"Item","fill"),s.addProperty(Yi,"Item","centerIn"),s.addProperty(Yi,"int","margins"),s.addProperty(Yi,"int","bottomMargin"),s.addProperty(Yi,"int","topMargin"),s.addProperty(Yi,"int","leftMargin"),s.addProperty(Yi,"int","rightMargin"),Yi._scheduleUpdate=function(){this._context.delayedAction("update-anchors",this,this._updateAll)},Yi._updateAll=function(){var t=this,e=t.parent;if(null!==e){var i,o,n,r,a,s,c=e.parent.toScreen(),l=c[0],h=c[1],d=t.fill,p=t._getAnchor("left")||(d?d.left:null),u=t._getAnchor("right")||(d?d.right:null),f=t._getAnchor("top")||(d?d.top:null),g=t._getAnchor("bottom")||(d?d.bottom:null),_=t.centerIn,y=t._getAnchor("horizontalCenter")||(_?_.horizontalCenter:null),m=t._getAnchor("verticalCenter")||(_?_.verticalCenter:null),v=t.leftMargin||t.margins,$=t.rightMargin||t.margins,b=t.topMargin||t.margins,w=t.bottomMargin||t.margins,x=[],C=[],P=function(t){var e,i=t[0],o=t[1],n=x.indexOf(i);return n<0?(e=i.toScreen(),x.push(i),C.push(e)):e=C[n],e[o]};p&&u?(i=P(p),n=P(u),e.x=i+v-l-e.viewX,e.width=n-i-$-v):p&&y?(i=P(p),a=P(y),e.x=i+v-l-e.viewX,e.width=2*(a-i)-$-v):y&&u?(a=P(y),n=P(u),e.width=2*(n-a)-$-v,e.x=a-(e.width+v-$)/2-l-e.viewX):p?(i=P(p),e.x=i+v-l-e.viewX):u?(n=P(u),e.x=n-l-$-e.width-e.viewX):y?(a=P(y),e.x=a-(e.width+v-$)/2-l-e.viewX):this._grabX&&(e.x=v),f&&g?(o=P(f),r=P(g),e.y=o+b-h-e.viewY,e.height=r-o-w-b):f&&m?(o=P(f),s=P(m),e.y=o+b-h-e.viewY,e.height=2*(s-o)-w-b):m&&g?(s=P(m),r=P(g),e.height=2*(r-s)-w-b,e.y=s-(e.height+b-w)/2-h-e.viewY):f?(o=P(f),e.y=o+b-h-e.viewY):g?(r=P(g),e.y=r-h-w-e.height-e.viewY):m?(s=P(m),e.y=s-(e.height+b-w)/2-h-e.viewY):this._grabY&&(e.y=b)}},Yi._grab=function(t,e){"x"===e&&(this._grabX=!0),"y"===e&&(this._grabY=!0),t._removeUpdater(e)},Yi._getAnchor=function(t){var e=this[t];return e?Array.isArray(e)?e:e[t]:null},Yi._subscribe=function(t){var e=this._items;e.indexOf(t)<0&&(e.push(t),this.connectOn(t,"newBoundingBox",this._scheduleUpdate.bind(this)))},P._protoOnChanged(Yi,"fill",function(t){if(this._scheduleUpdate(),null!==t){var e=this.parent;this._grab(e,"x"),this._grab(e,"width"),this._grab(e,"y"),this._grab(e,"height"),this._subscribe(t)}}),P._protoOnChanged(Yi,"centerIn",function(t){if(this._scheduleUpdate(),null!==t){var e=this.parent;this._grab(e,"x"),this._grab(e,"y"),this._subscribe(t),this._subscribe(e)}}),P._protoOnChanged(Yi,"bottom",function(t){this._scheduleUpdate();var e=this._getAnchor("bottom");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.top||this.verticalCenter)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(e[0])}}),P._protoOnChanged(Yi,"horizontalCenter",function(t){this._scheduleUpdate();var e=this._getAnchor("horizontalCenter");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.left||this.right)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(e[0])}}),P._protoOnChanged(Yi,"left",function(t){this._scheduleUpdate();var e=this._getAnchor("left");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.right||this.horizontalCenter)&&(this._grab(i,"width"),this._subscribe(i)),this._subscribe(e[0])}}),P._protoOnChanged(Yi,"right",function(t){this._scheduleUpdate();var e=this._getAnchor("right");if(null!==e){var i=this.parent;this._grab(i,"x"),(this.left||this.horizontalCenter)&&this._grab(i,"width"),this._subscribe(i),this._subscribe(e[0])}}),P._protoOnChanged(Yi,"top",function(t){this._scheduleUpdate();var e=this._getAnchor("top");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.bottom||this.verticalCenter)&&(this._grab(i,"height"),this._subscribe(i)),this._subscribe(e[0])}}),P._protoOnChanged(Yi,"verticalCenter",function(t){this._scheduleUpdate();var e=this._getAnchor("verticalCenter");if(null!==e){var i=this.parent;this._grab(i,"y"),(this.top||this.bottom)&&this._grab(i,"height"),this._subscribe(i),this._subscribe(e[0])}});$=function(t){this.parent.anchorsMarginsUpdated(),this._scheduleUpdate()};P._protoOnChanged(Yi,"leftMargin",$),P._protoOnChanged(Yi,"rightMargin",$),P._protoOnChanged(Yi,"topMargin",$),P._protoOnChanged(Yi,"bottomMargin",$),P._protoOnChanged(Yi,"margin",$),Yi.$c=function(t){Bi.$c.call(this,t.$b={})},Yi.$s=function(t){Bi.$s.call(this,t.$b),delete t.$b,this.completed()};var Xi=P.Rectangle,Ki=Xi.prototype,qi=d.CurrentInfoPage=function(t,e){Xi.apply(this,arguments)},Gi=qi.prototype=Object.create(Ki);Gi.constructor=qi,Gi.componentName="src.CurrentInfoPage",s.addProperty(Gi,"bool","display"),Gi.rebuild=function(){var t=this._get("api",!0),s=this;t.getFeed(function(t){for(var e=[],i=1;i<t.values.length;++i){var o=t.values[i],n=o[0].split("."),r=o[1].split(":"),a=new Date(n[2],n[1]-1,n[0],r[0],r[1]);e.push({timeStamp:a.getTime(),description:o[3],startAt:a,time:o[1],date:o[0],title:o[2],preview:o[8]})}s._news=e,s.updateCurrentFeed()},function(t){log("Failed",t)})},Gi.showOsd=function(){var t=this._get("closeIcon",!0),e=this._get("player",!0);t.hovered||(this.display=!0,e.ready||e.play())},Gi.updateCurrentFeed=function(){var t=this._get("consts",!0),e=this._get("programList",!0);if(this._news)for(var i=new Date,o=this._news,n=0;n<o.length;++n)if(o[n].startAt.getTime()>i.getTime()){var r=[];0<n&&(o[n-1].timeTitle="Прямой эфир",o[n-1].preview=o[n-1].preview||t.defaultPoster,r.push(o[n-1])),o[n].timeTitle="Далее в эфире",o[n].preview=o[n].preview||t.defaultPoster,r.push(o[n]),e.model.assign(r);break}},Gi.showCurrentInfo=function(){var t=this._get("programList",!0),e=this._get("titleText",!0),i=this._get("descriptionText",!0),o=t.model.get(t.selectedIndex);e.text=o.title.toUpperCase(),i.text=o.description},Gi.__complete=function(){Ki.__complete.call(this),this.rebuild()},P._protoOnChanged(Gi,"display",function(t){this._get("programList",!0).setFocus()}),P._protoOn(Gi,"clicked",function(){this.showOsd()}),P._protoOnKey(Gi,"Back",function(t,e){var i=this._get("root",!0);return this.display?this.display=!1:i.closeApp(),!0}),Gi.$c=function(t){var e=this;Ki.$c.call(this,t.$b={});var i=new P.ClickMixin(e);(t._this$child0=i).$c(t.$c$_this$child0={}),e.addChild(i);var o=new P.Image(e);(t._this$child1=o).$c(t.$c$_this$child1={}),e.addChild(o);var n=new P.Item(e);(t._this$child2=n).$c(t.$c$_this$child2={});var r=new P.Text(n);(t._this_child2$child0=r).$c(t.$c$_this_child2$child0={}),n.addChild(r);var a=new P.Text(n);(t._this_child2$child1=a).$c(t.$c$_this_child2$child1={}),a._setId("titleText"),n.addChild(a);var s=new P.Text(n);(t._this_child2$child2=s).$c(t.$c$_this_child2$child2={}),s._setId("descriptionText"),n.addChild(s),e.addChild(n);var c=new d.ProgramList(e);(t._this$child3=c).$c(t.$c$_this$child3={}),c._setId("programList"),e.addChild(c);var l=new d.CloseIcon(e);(t._this$child4=l).$c(t.$c$_this$child4={}),l._setId("closeIcon"),e.addChild(l);var h=new P.Timer(e);(t._this$child5=h).$c(t.$c$_this$child5={}),e.addChild(h)},Gi.$s=function(t){var e=this;Ki.$s.call(this,t.$b),delete t.$b,e.anchors._removeUpdater("fill"),e.anchors.fill=e.parent,e._replaceUpdater("opacity",function(){e.opacity=e.display?1:0},[e,"display"]),e._removeUpdater("focus"),e.focus=!0,e._replaceUpdater("color",function(){e.color=e._get("consts").backgroundColor},[e._get("consts"),"backgroundColor"]);var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o._replaceUpdater("width",function(){o.width=680*o._context.virtualScale},[o._context,"virtualScale"]),o._replaceUpdater("height",function(){o.height=o.parent.height},[o.parent,"height"]),o.anchors._replaceUpdater("right",function(){o.anchors.right=o.parent.right},[o.parent,"right"]),o._replaceUpdater("source",function(){o.source="tizen"==o._context.system.os?"res/bg_1080.jpg":"res/bg.jpg"},[o._context.system,"os"]),o.completed();var n=t._this$child2;n.$s(t.$c$_this$child2),delete t.$c$_this$child2,n._replaceUpdater("x",function(){n.x=60*n._context.virtualScale},[n._context,"virtualScale"]),n._replaceUpdater("y",function(){n.y=52*n._context.virtualScale},[n._context,"virtualScale"]),n._replaceUpdater("width",function(){n.width=n.parent.width},[n.parent,"width"]),n._replaceUpdater("height",function(){n.height=300*n._context.virtualScale},[n._context,"virtualScale"]),n._removeUpdater("clip"),n.clip=!0;var r=t._this_child2$child0;r.$s(t.$c$_this_child2$child0),delete t.$c$_this_child2$child0,r.font._replaceUpdater("pixelSize",function(){r.font.pixelSize=24*r._context.virtualScale},[r._context,"virtualScale"]),r.font._removeUpdater("family"),r.font.family="ProximaNova Bold",r._replaceUpdater("color",function(){r.color=r._get("consts").accentTextColor},[r._get("consts"),"accentTextColor"]),r._removeUpdater("text"),r.text="echo.msk.ru",r.completed();var a=t._this_child2$child1;a.$s(t.$c$_this_child2$child1),delete t.$c$_this_child2$child1,a._replaceUpdater("y",function(){a.y=35*a._context.virtualScale},[a._context,"virtualScale"]),a._replaceUpdater("width",function(){a.width=710*a._context.virtualScale},[a._context,"virtualScale"]),a.font._replaceUpdater("pixelSize",function(){a.font.pixelSize=48*a._context.virtualScale},[a._context,"virtualScale"]),a.font._removeUpdater("family"),a.font.family="ProximaNova Bold",a._removeUpdater("wrapMode"),a.wrapMode=C.core.Text.prototype.WordWrap,a._replaceUpdater("color",function(){a.color=a._get("consts").textColor},[a._get("consts"),"textColor"]),a.completed();var s=t._this_child2$child2;s.$s(t.$c$_this_child2$child2),delete t.$c$_this_child2$child2,s.anchors._replaceUpdater("top",function(){s.anchors.top=s._get("titleText").bottom},[s._get("titleText"),"bottom"]),s.anchors._replaceUpdater("topMargin",function(){s.anchors.topMargin=10*s._context.virtualScale},[s._context,"virtualScale"]),s.font._replaceUpdater("pixelSize",function(){s.font.pixelSize=24*s._context.virtualScale},[s._context,"virtualScale"]),s._replaceUpdater("width",function(){s.width=533*s._context.virtualScale},[s._context,"virtualScale"]),s._removeUpdater("wrapMode"),s.wrapMode=C.core.Text.prototype.WordWrap,s._replaceUpdater("color",function(){s.color=s._get("consts").passiveTextColor},[s._get("consts"),"passiveTextColor"]),s.completed(),n.completed();var c=t._this$child3;c.$s(t.$c$_this$child3),delete t.$c$_this$child3,c._replaceUpdater("x",function(){c.x=60*c._context.virtualScale},[c._context,"virtualScale"]),c._replaceUpdater("y",function(){c.y=366*c._context.virtualScale},[c._context,"virtualScale"]),c.on("show",function(){this.parent.display=!0}.bind(c)),c.on("choosed",function(t){this.selectedIndex=t,this.parent.showCurrentInfo()}.bind(c)),c.onPressed("Up",function(t,e){this._get("closeIcon",!0).setFocus()}.bind(c)),c.completed();var l=t._this$child4;l.$s(t.$c$_this$child4),delete t.$c$_this$child4,l.on("clicked",function(){this.parent.display=!1}.bind(l)),l.onPressed("Down",function(t,e){this._get("programList",!0).setFocus()}.bind(l)),l.onPressed("Select",function(t,e){this.parent.display=!1}.bind(l)),l.completed();var h=t._this$child5;h.$s(t.$c$_this$child5),delete t.$c$_this$child5,h._replaceUpdater("running",function(){h.running=h.parent.display},[h.parent,"display"]),h._removeUpdater("repeat"),h.repeat=!0,h._removeUpdater("interval"),h.interval=3e4,h.on("triggered",function(){this.parent.updateCurrentFeed()}.bind(h)),h.completed();var d,p={behavior__this_on_opacity:d=new P.Animation(e)};d.$c(p.$c$behavior__this_on_opacity={}),(d=p.behavior__this_on_opacity).$s(p.$c$behavior__this_on_opacity),delete p.$c$behavior__this_on_opacity,d._replaceUpdater("duration",function(){d.duration="android"==d._context.system.os?0:d._get("consts").animationDuration},[d._context.system,"os",d._get("consts"),"animationDuration"]),d.completed(),e.setAnimation("opacity",d),e.completed()};var Ji=P.Object,Zi=Ji.prototype,Qi=P.BaseLayoutContentPadding=function(t,e){Ji.apply(this,arguments),this.parent._padding=this},to=Qi.prototype=Object.create(Zi);to.defaultProperty="all",to.constructor=Qi,to.componentName="core.BaseLayoutContentPadding",s.addProperty(to,"int","top"),s.addProperty(to,"int","left"),s.addProperty(to,"int","right"),s.addProperty(to,"int","bottom"),s.addProperty(to,"int","all");$=function(t){this.parent._scheduleLayout()};P._protoOnChanged(to,"top",$),P._protoOnChanged(to,"left",$),P._protoOnChanged(to,"right",$),P._protoOnChanged(to,"bottom",$),to.$c=function(t){Zi.$c.call(this,t.$b={})},to.$s=function(t){var e=this;Zi.$s.call(this,t.$b),delete t.$b,e._replaceUpdater("top",function(){e.top=e.all},[e,"all"]),e._replaceUpdater("left",function(){e.left=e.all},[e,"all"]),e._replaceUpdater("right",function(){e.right=e.all},[e,"all"]),e._replaceUpdater("bottom",function(){e.bottom=e.all},[e,"all"]),e.completed()};var eo=P.Object,io=eo.prototype,oo=d.Consts=function(t,e){eo.apply(this,arguments)},no=oo.prototype=Object.create(io);no.constructor=oo,no.componentName="src.Consts",s.addProperty(no,"int","animationDuration",300),s.addProperty(no,"string","defaultPoster","res/default.jpg"),s.addProperty(no,"color","textColor","#fff"),s.addProperty(no,"color","accentTextColor","#ED2828"),s.addProperty(no,"color","passiveTextColor","#919293"),s.addProperty(no,"color","backgroundColor","#0d0e10"),no.$c=function(t){io.$c.call(this,t.$b={})},no.$s=function(t){io.$s.call(this,t.$b),delete t.$b,this.completed()};var ro=P.EventEmitter,ao=ro.prototype,so=P.RAIIEventEmitter=function(t,e){ro.apply(this,arguments),this._onListener={}},co=so.prototype=Object.create(ao);co.constructor=so,co.componentName="core.RAIIEventEmitter",co.removeAllListeners=function(t){P.EventEmitter.prototype.removeAllListeners.call(this,t),t in this._onListener?this._onListener[t][1](t):""in this._onListener&&this._onListener[""][1](t)},co.on=function(t,e){if(!(t in this._eventHandlers)&&(t in this._onListener?this._onListener[t][0](t):""in this._onListener&&this._onListener[""][0](t),this._eventHandlers[t]))throw new Error("listener callback added event handler");P.EventEmitter.prototype.on.call(this,t,e)},co.onListener=function(t,e,i){this._onListener[t]=[e,i]},co.$c=function(t){ao.$c.call(this,t.$b={})},co.$s=function(t){ao.$s.call(this,t.$b),delete t.$b,this.completed()};var lo=P.Object,ho=lo.prototype,po=P.Font=function(t,e){lo.apply(this,arguments)},uo=po.prototype=Object.create(ho);uo.constructor=po,uo.componentName="core.Font",s.addProperty(uo,"string","family",$manifest$style$font$family),s.addProperty(uo,"bool","italic"),s.addProperty(uo,"bool","bold"),s.addProperty(uo,"bool","underline"),s.addProperty(uo,"bool","overline"),s.addProperty(uo,"bool","strike"),s.addProperty(uo,"bool","strikeout"),s.addProperty(uo,"real","letterSpacing"),s.addProperty(uo,"real","wordSpacing"),s.addProperty(uo,"int","pixelSize",$manifest$style$font$pixelSize),s.addProperty(uo,"int","pointSize"),s.addProperty(uo,"real","lineHeight",$manifest$style$font$lineHeight),s.addProperty(uo,"int","weight"),uo.MixedCase=0,po.MixedCase=0,uo.AllUppercase=1,po.AllUppercase=1,uo.AllLowercase=2,po.AllLowercase=2,uo.SmallCaps=3,po.SmallCaps=3,uo.Capitalize=4,po.Capitalize=4,s.addProperty(uo,"enum","capitalization"),uo._updateTextDecoration=function(){var t=(this.underline?" underline":"")+(this.overline?" overline":"")+(this.strike||this.strikeout?" line-through":"");this.parent.style("text-decoration",t),this.parent._updateSize()},P._protoOnChanged(uo,"capitalization",function(t){switch(this.parent.style("text-transform","none"),this.parent.style("font-variant","normal"),t){case this.AllUppercase:this.parent.style("text-transform","uppercase");break;case this.AllLowercase:this.parent.style("text-transform","lowercase");break;case this.SmallCaps:this.parent.style("font-variant","small-caps");break;case this.Capitalize:this.parent.style("text-transform","capitalize")}}),P._protoOnChanged(uo,"pointSize",function(t){0<t&&(this.pixelSize=0),this.parent.style("font-size",0<t?t+"pt":""),this.parent._updateSize()}),P._protoOnChanged(uo,"pixelSize",function(t){0<t&&(this.pointSize=0),this.parent.style("font-size",0<t?t+"px":""),this.parent._updateSize()});$=function(t){this._updateTextDecoration()};P._protoOnChanged(uo,"underline",$),P._protoOnChanged(uo,"overline",$),P._protoOnChanged(uo,"strike",$),P._protoOnChanged(uo,"strikeout",$),P._protoOnChanged(uo,"family",function(t){this.parent.style("font-family",t),this.parent._updateSize()}),P._protoOnChanged(uo,"italic",function(t){this.parent.style("font-style",t?"italic":"normal"),this.parent._updateSize()}),P._protoOnChanged(uo,"weight",function(t){this.parent.style("font-weight",t),this.parent._updateSize()}),P._protoOnChanged(uo,"bold",function(t){this.parent.style("font-weight",t?"bold":"normal"),this.parent._updateSize()}),P._protoOnChanged(uo,"letterSpacing",function(t){this.parent.style("letter-spacing",t+"px"),this.parent._updateSize()}),P._protoOnChanged(uo,"lineHeight",function(t){this.parent.style("line-height",t),this.parent._updateSize()}),P._protoOnChanged(uo,"wordSpacing",function(t){this.parent.style("word-spacing",t+"px"),this.parent._updateSize()}),uo.$c=function(t){ho.$c.call(this,t.$b={})},uo.$s=function(t){ho.$s.call(this,t.$b),delete t.$b,this.completed()};var fo=P.Object,go=fo.prototype,_o=r.Stylesheet=function(t,e){fo.apply(this,arguments);var i=this._context,o=i.options,n=this.style=i.createElement("style");n.dom.type="text/css",this.prefix=o.prefix;var r=o.id,a=null===document.getElementById(i,r),s=window.Modernizr.prefixedCSS("user-select")+": none; ",c=C.core.os,l="android"===c||"androidttk"===c||"hisense"===c||"ekt"==c;n.setHtml("div#"+r+" { position: absolute; visibility: hidden; left: 0px; top: 0px; }"+("webOS"===c||l?this.mangleRule("div","{ "+s+" }"):"")+(l?this.mangleRule("div","{ -webkit-tap-highlight-color: rgba(255, 255, 255, 0); -webkit-focus-ring-color: rgba(255, 255, 255, 0); outline: none; }"):"")+(a?"body { padding: 0; margin: 0; border: 0px; overflow: hidden; }":"")+this.mangleRule("video","{ position: absolute; }")+this.mangleRule("img","{ position: absolute; -webkit-touch-callout: none; "+s+" }"));var h=C.html5.html.getElement(i,"head");h.append(n),h.updateStyle(),this._addRule=C.html5.html.createAddRule(n.dom).bind(this),this._lastId=0},yo=_o.prototype=Object.create(go);yo.constructor=_o,yo.componentName="html5.Stylesheet",yo.allocateClass=function(t){var e=this.prefix;return(e||"")+t+"-"+this._lastId++},yo.mangleSelector=function(t){var e=this.prefix;return e?t+"."+e+"core-item":t},yo.mangleRule=function(t,e){return this.mangleSelector(t)+" "+e+" "},yo.addRule=function(t,e){this._addRule(t,e)},yo.$c=function(t){go.$c.call(this,t.$b={})},yo.$s=function(t){go.$s.call(this,t.$b),delete t.$b,this.completed()};var mo=P.Rectangle,vo=mo.prototype,$o=d.CloseDialog=function(t,e){mo.apply(this,arguments)},bo=$o.prototype=Object.create(vo);bo.constructor=$o,bo.componentName="src.CloseDialog",bo.hide=function(){this.visible=!1},bo.show=function(){var t=this._get("dialogControls",!0);this.visible=!0,t.setFocus()},P._protoOnKey(bo,"Back",function(t,e){this.hide()}),bo.$c=function(t){var e=this;vo.$c.call(this,t.$b={});var i=new P.Text(e);(t._this$child0=i).$c(t.$c$_this$child0={}),e.addChild(i);var o=new d.CloseIcon(e);(t._this$child1=o).$c(t.$c$_this$child1={}),o._setId("closeDialogIcon"),e.addChild(o);var n=new P.Row(e);(t._this$child2=n).$c(t.$c$_this$child2={});var r=new d.DialogButton(n);(t._this_child2$child0=r).$c(t.$c$_this_child2$child0={}),n.addChild(r);var a=new d.DialogButton(n);(t._this_child2$child1=a).$c(t.$c$_this_child2$child1={}),n.addChild(a),n._setId("dialogControls"),e.addChild(n),e._setId("closeDialogProto")},bo.$s=function(t){var e=this;vo.$s.call(this,t.$b),delete t.$b,e.anchors._removeUpdater("fill"),e.anchors.fill=e.parent,e._removeUpdater("color"),e.color="#000e",e._removeUpdater("visible"),e.visible=!1;var i=t._this$child0;i.$s(t.$c$_this$child0),delete t.$c$_this$child0,i._replaceUpdater("y",function(){i.y=300*i._context.virtualScale},[i._context,"virtualScale"]),i._replaceUpdater("width",function(){i.width=i.parent.width},[i.parent,"width"]),i._removeUpdater("horizontalAlignment"),i.horizontalAlignment=C.core.Text.prototype.AlignHCenter,i.font._replaceUpdater("pixelSize",function(){i.font.pixelSize=32*i._context.virtualScale},[i._context,"virtualScale"]),i._removeUpdater("color"),i.color="#fff",i._removeUpdater("text"),i.text="Вы уверены что хотите выйти?",i.completed();var o=t._this$child1;o.$s(t.$c$_this$child1),delete t.$c$_this$child1,o._removeUpdater("focus"),o.focus=!0,o.on("clicked",function(){this.parent.hide()}.bind(o)),o.onPressed("Down",function(t,e){this._get("dialogControls",!0).setFocus()}.bind(o)),o.onPressed("Select",function(t,e){this.parent.hide()}.bind(o)),o.completed();var n=t._this$child2;n.$s(t.$c$_this$child2),delete t.$c$_this$child2,n._replaceUpdater("y",function(){n.y=400*n._context.virtualScale},[n._context,"virtualScale"]),n._replaceUpdater("height",function(){n.height=70*n._context.virtualScale},[n._context,"virtualScale"]),n.anchors._replaceUpdater("horizontalCenter",function(){n.anchors.horizontalCenter=n.parent.horizontalCenter},[n.parent,"horizontalCenter"]),n._replaceUpdater("spacing",function(){n.spacing=30*n._context.virtualScale},[n._context,"virtualScale"]),n.onPressed("Up",function(t,e){this._get("closeDialogIcon",!0).setFocus()}.bind(n));var r=t._this_child2$child0;r.$s(t.$c$_this_child2$child0),delete t.$c$_this_child2$child0,r._removeUpdater("text"),r.text="Да",r.on("pressed",function(){this._get("closeDialogProto",!0).hide();this._context.system.os.toLowerCase();C.closeApp()}.bind(r)),r.completed();var a=t._this_child2$child1;a.$s(t.$c$_this_child2$child1),delete t.$c$_this_child2$child1,a._removeUpdater("text"),a.text="Нет",a.on("pressed",function(){this._get("closeDialogProto",!0).hide()}.bind(a)),a.completed(),n.completed(),e.completed()};var wo,xo,Co,Po,So,ko,Ao,Oo,Io,To,Uo=P.Object,Eo=Uo.prototype,zo=P.ContentMargin=function(t,e){Uo.apply(this,arguments)},Lo=zo.prototype=Object.create(Eo);return Lo.constructor=zo,Lo.componentName="core.ContentMargin",s.addProperty(Lo,"int","top"),s.addProperty(Lo,"int","left"),s.addProperty(Lo,"int","right"),s.addProperty(Lo,"int","bottom"),Lo.$c=function(t){Eo.$c.call(this,t.$b={})},Lo.$s=function(t){Eo.$s.call(this,t.$b),delete t.$b,this.completed()},C.core.model=function(){var t={};t.ModelUpdate=function(){this.rows=[]},t.ModelUpdate.prototype.constructor=t.ModelUpdate,t.ModelUpdate.prototype.reset=function(t){for(var e=t.count,i=this.rows=new Array(e),o=0;o<e;++o)i[o]=[o,!0]},t.ModelUpdate.prototype.insert=function(t,e,i){if(!(i<=e)){for(var o=i-e,n=this.rows,r=[e,0],a=0;a<o;++a)r.push([e+a,!0]);if(n.splice.apply(n,r),n.length!=t.count)throw new Error("unbalanced insert "+n.length+" + ["+e+"-"+i+"], model reported "+t.count)}},t.ModelUpdate.prototype.remove=function(t,e,i){if(!(i<=e)){var o=i-e,n=this.rows;if(n.splice(e,o),n.length!=t.count)throw new Error("unbalanced remove "+n.length+" + ["+e+"-"+i+"], model reported "+t.count)}},t.ModelUpdate.prototype.update=function(t,e,i){if(!(i<=e))for(var o=this.rows,n=e;n<i;++n)o[n][1]=!0},t.ModelUpdate.prototype.clear=function(){this.rows=[]},t.ModelUpdate.prototype.apply=function(o,t){for(var e=this.rows,n=0,r=0,a=0,s=!1,i=function(t,e,i){if(void 0===i&&(i=1),n!==t){if(0<a)switch(n){case 0:break;case 3:s=!0,o._updateItems(r,r+a);break;case 1:s=!0,o._insertItems(r,r+a);break;case 2:s=!0,o._removeItems(r,r+a)}n=t,r=e,a=i}else a+=i},c=e.length,l=o._items.length,h=0,d=0;d<c;){var p=(g=e[d])[0]+h;if(l<=d){i(1,d,c-l);break}if(p===d)i(g[1]||0!==h?3:0,d),++d,++p;else if(d<p){i(2,d,u=p-d),h+=-u}else{var u=d-p;3===n&&u==a?(h+=u,n=1):(h+=u,d+=u,i(1,p+u,u))}}if(i(4,l),c<(l=o._items.length)?o._removeItems(c,l):l<c&&o._insertItems(l,c),!t&&o._items.length!=c)throw new Error("unbalanced items update, view: "+o._items.length+", update:"+c);for(var f=0;f<c;++f){var g;(g=e[f])[0]=f,g[1]=!1}return s};var e=t.ArrayModelWrapper=function(t){this.data=t,this.count=t.length};return e.prototype.get=function(t){return{value:this.data[t]}},e.prototype.on=function(){},e.prototype.removeListener=function(){},t}(),C.core.gradient=function(){var t={},e=function(t,e){this.color=P.Color.normalize(t),this.position=e},i=e.prototype;i.constructor=e,i.toString=function(){return this.color+" "+Math.floor(100*this.position)+"%"};var o=function(t){this.orientation=t,this.stops=[]},n=o.prototype;return n.constructor=o,n.add=function(t){this.stops.push(t)},n.toString=function(){return"linear-gradient("+this.orientation+","+this.stops.join()+")"},t.GradientStop=e,t.Gradient=o,t}(),C.core.transform=function(){var t={},o=function(t,e){this.value=t,this.unit=e},e=o.prototype;e.constructor=o,e.toString=function(){var t=this.unit;return null!=t?this.value+t:this.value};var i=function(){this.transforms={}},n=i.prototype;return n.constructor=i,n.add=function(t,e,i){this.transforms[t]=new o(e,i)},n.toString=function(){var t=this.transforms,e="";for(var i in t){e+=i+"("+t[i]+") "}return e},t.Transform=i,t}(),C.html5.localstorage=(wo={},(xo=function(t){if(t&&t.name,this._storage=window.localStorage,!this._storage)throw new Error("no local storage support")}).prototype.get=function(t,e,i){var o=this._storage.getItem(t);null!==o?e(o):i(new Error("no item with name "+t))},xo.prototype.set=function(t,e){this._storage.setItem(t,e)},xo.prototype.erase=function(t,e){this._storage.removeItem(t)},wo.createLocalStorage=function(t){return new xo(t)},wo.LocalStorage=xo,wo),C.html5.html=function(){var g={},p=window.Modernizr;g.capabilities={csstransforms3d:p.csstransforms3d,csstransforms:p.csstransforms,csstransitions:p.csstransitions,mouseEnterLeaveSupported:"netcast"!=C.core.os};var u=null;g.createAddRule=function(t){if((t.sheet||{}).insertRule){i=t.sheet;return function(e,t){try{i.insertRule(e+"{"+t+"}",i.cssRules.length)}catch(t){log("insertRule failed on rule "+e)}}}var i=t.styleSheet||t.sheet;return function(e,t){try{i.addRule(e,t)}catch(t){log("addRule failed on rule "+e)}}};var f=function(){this._cache={}},t=f.prototype;t.constructor=f,t.update=function(t,e,i){var o=this._cache,n=t._uniqueId,r=o[n];if(void 0!==r)r.data[e]=i,++r.size;else{var a={};a[e]=i,o[n]={data:a,element:t,size:1}}},t.pop=function(t){var e=t._uniqueId,i=this._cache[e];if(void 0!==i)return delete this._cache[e],i},t.apply=function(){var t=this._cache;for(var e in this._cache={},t){var i=t[e];i.element.updateStyle(i)}};var _=function(t){var e=document.createElement("style");e.type="text/css",document.head.appendChild(e),this.prefix=t+"C-",this.style=e,this.total=0,this.stats={},this.classes={},this.classes_total=0,this._addRule=g.createAddRule(e)},e=_.prototype;e.constructor=_,e.add=function(t){this.stats[t]=(this.stats[t]||0)+1,++this.total},e.register=function(t){var e=t.join(";"),i=this.classes,o=i[e];return void 0!==o||(o=i[e]=this.prefix+this.classes_total++,this._addRule("."+o,e)),o},e.classify=function(i){var o=this.total;if(o<10)return"";i.sort();var n=[],r=[],a=this.stats;return i.forEach(function(t,e){.05<a[t]/o&&(n.push(t),r.push(e))}),r.length<2?"":(r.forEach(function(t,e){i.splice(t-e,1)}),this.register(n))};var i={};0<=C.core.userAgent.toLowerCase().indexOf("webkit")&&(i.appearance="-webkit-appearance");var l=function(t){var e=i[t];return void 0===e&&(i[t]=e=window.Modernizr.prefixedCSS(t)),e};g.getPrefixedName=l;var r=["touchstart","touchmove","touchend","wheel","mousewheel","scroll"],a=!!p.passiveeventlisteners&&{passive:!0},s=["mousedown","mouseup","click","dblclick","mousemove","mouseover","mousewheel","mouseout","contextmenu","mouseenter","mouseleave","touchstart","touchmove","touchend","touchcancel"],c=function(o){var n=o.__domEventListeners;void 0===n&&(n=o.__domEventListeners={}),o.onListener("",function(t){var e=n[t]=o._context.wrapNativeCallback(function(){o.emitWithArgs(t,arguments)}),i=[t,e];(0<=r.indexOf(t)&&i.push(a),0<=s.indexOf(t))&&(1===(o.__mouseTouchHandlerCount=1+~~o.__mouseTouchHandlerCount)&&(o.style("pointer-events","auto"),o.style("touch-action","auto")));o.dom.addEventListener.apply(o.dom,i)},function(t){0<=s.indexOf(t)&&((o.__mouseTouchHandlerCount=~~o.__mouseTouchHandlerCount-1)<=0&&(o.style("pointer-events","none"),o.style("touch-action","none")));o.dom.removeEventListener(t,n[t])})},o={};g.loadExternalStylesheet=function(t){if(!o[t]){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.head.appendChild(e),o[t]=!0}};var h=0,d={};function y(t){return $manifest$html5$prefix+t}g.Element=function(t,e,i){if("string"==typeof e){void 0===i&&(i="");var o=e+"."+i;if(!d[o]){var n=document.createElement(e);($manifest$html5$prefix||i)&&n.classList.add(y(i)),$manifest$html5$prefix&&i&&n.classList.add(y("")),d[o]=n}this.dom=d[o].cloneNode(!1)}else this.dom=e;C.core.RAIIEventEmitter.apply(this),this._context=t,this._transitions={},this._class="",this._uniqueId=(++h).toString(36),this._firstChildIndex=0,c(this)};var n=g.Element.prototype=Object.create(C.core.RAIIEventEmitter.prototype);n.constructor=g.Element,n.addClass=function(t){this.dom.classList.add(t)},n.appendChildren=function(t){if(0<t.length){var e=document.createDocumentFragment();t.forEach(function(t){e.appendChild(t)}),this.dom.appendChild(e)}},n.removeChildren=function(t){var o=[],n=this.dom;return t.children.forEach(function(t){var e=t.element;if(void 0!==e){var i=e.dom;i.parentNode===n&&(n.removeChild(i),o.push(i))}}),o},n.setHtml=function(t,e){var i,o=this.dom;i=void 0!==e?this.removeChildren(e):[],o.innerHTML=t,this.appendChildren(i)},n.width=function(){return this.updateStyle(),this.dom.clientWidth},n.height=function(){return this.updateStyle(),this.dom.clientHeight},n.fullWidth=function(){return this.updateStyle(),this.dom.scrollWidth},n.fullHeight=function(){return this.updateStyle(),this.dom.scrollHeight};var m=["overflow","overflow-x","overflow-y"];n.style=function(t,e){var i=this._context._styleCache;if(void 0!==e)i.update(this,t,e),0<=m.indexOf(t)&&(i.update(this,"pointer-events","auto"),i.update(this,"touch-action","auto"));else{if("object"!=typeof t)throw new Error("cache is write-only");for(var o in t)0<=m.indexOf(t)&&(i.update(this,"pointer-events","auto"),i.update(this,"touch-action","auto")),i.update(this,o,t[o])}},n.setAttribute=function(t,e){return this.dom.setAttribute(t,e)},n.getAttribute=function(t){return this.dom.getAttribute(t)},n.removeAttribute=function(t,e){return this.dom.removeAttribute(t,e)},n.setProperty=function(t,e){return this.dom[t]=e},n.getProperty=function(t){return this.dom[t]};var v={left:"px",top:"px",width:"px",height:"px","border-radius":"px","border-width":"px","margin-left":"px","margin-top":"px","margin-right":"px","margin-bottom":"px","padding-left":"px","padding-top":"px","padding-right":"px","padding-bottom":"px",padding:"px"};n.forceLayout=function(){return this.updateStyle(),this.dom.offsetWidth|this.dom.offsetHeight},n.updateStyle=function(t){var e=this.dom;if(e&&(void 0!==t||void 0!==(t=this._context._styleCache.pop(this)))){var i=t.data,o=e.style;for(var n in i){var r=i[n],a=l(n),s=!1!==a?a:n;if(r instanceof C.core.Color?r=r.rgba():Array.isArray(r)&&(r=r.join(",")),"number"==typeof r){var c=v[n];void 0!==c&&(r+=c)}o[s]=r}}},n.append=function(t){this.dom.appendChild(t instanceof g.Element?t.dom:t)},n.prepend=function(t){this.dom.insertBefore(t instanceof g.Element?t.dom:t,this.dom.childNodes[0])},n.discard=function(){C.core.RAIIEventEmitter.prototype.discard.apply(this),this.remove()},n.remove=function(){var t=this.dom;t.parentNode&&t.parentNode.removeChild(t)},n.focus=function(){this.dom.focus()},n.blur=function(){this.dom.blur()},n.getScrollX=function(){return this.dom.scrollLeft},n.getScrollY=function(){return this.dom.scrollTop},n.setScrollX=function(t){var e=this.dom;setTimeout(function(){e.scrollLeft=t},1)},n.setScrollY=function(t){var e=this.dom;setTimeout(function(){e.scrollTop=t},1)},g.Document=function(t,e){C.core.RAIIEventEmitter.apply(this),this._context=t,this.dom=e,c(this)},(g.Document.prototype=Object.create(C.core.RAIIEventEmitter.prototype)).constructor=g.Document,g.Window=function(t,e){C.core.RAIIEventEmitter.apply(this),this._context=t,this.dom=e,c(this)};var $=g.Window.prototype=Object.create(C.core.RAIIEventEmitter.prototype);$.constructor=g.Window,$.width=function(){return this.dom.innerWidth},$.height=function(){return this.dom.innerHeight},$.scrollY=function(){return this.dom.scrollY},$.style=function(){},g.getElement=function(t,e){var i=document.getElementsByTagName(e);if(1!=i.length)throw new Error("no tag "+e+"/multiple tags");return new g.Element(t,i[0])},g.init=function(o){u=new C.html5.cache.Cache(b),o._styleCache=new f;var t=o.options,e=o._prefix,i=t.id,n=t.tag||"div";e&&log("Context: using prefix",e+="-");var r=new C.html5.html.Document(o,document);o.document=r;var a,s,c=new C.html5.html.Window(o,window);o.window=c;var l=g,h=document.getElementById(i);null===h?(a=c.width()+1,s=c.height()+1,log("Context: window size: "+a+"x"+s),(h=l.createElement(o,n)).dom.id=i,c.on("resize",function(){o.width=c.width()+1,o.height=c.height()+1}),l.getElement(o,"body").append(h)):(a=(h=new l.Element(o,h)).width(),s=h.height(),log("Context: found element by id, size: "+a+"x"+s),c.on("resize",function(){o.width=h.width(),o.height=h.height()}));p.canvastext?(o._textCanvas=l.createElement(o,"canvas"),o._textCanvas.style("width",0),o._textCanvas.style("height",0),h.append(o._textCanvas),o._textCanvasContext="getContext"in o._textCanvas.dom?o._textCanvas.dom.getContext("2d"):null):o._textCanvasContext=null,o.element=h,o.width=a,o.height=s,c.on("scroll",function(t){o.scrollY=c.scrollY()});var d=function(t){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;log("fullscreen change event:",e),o.fullscreen=e};new Array("webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange").forEach(function(t){h.on(t,d,!0)}),c.on("keydown",o.wrapNativeCallback(function(t){var e=t.which||t.keyCode,i=P.keyCodes[e];void 0!==i?o.processKey(i,t)&&t.preventDefault():log("unhandled keycode "+e+": ["+t.charCode+" "+t.keyCode+" "+t.which+" "+t.key+" "+t.code+" "+t.location+"]")})),c.on("orientationchange",function(t){log("orientation changed event"),o.system.screenWidth=window.screen.width,o.system.screenHeight=window.screen.height}),o._styleClassifier=$manifest$cssAutoClassificator?new _(o._prefix):null},g.initSystem=function(t){var e=t._context.window;e.on("focus",function(){t.pageActive=!0}),e.on("blur",function(){t.pageActive=!1}),t.screenWidth=window.screen.width,t.screenHeight=window.screen.height},g.createElement=function(t,e,i){return new g.Element(t,e,i)},g.initRectangle=function(t){};var b=function(t,e){var i=new Image;i.onerror=function(){i.onload=null,i.onerror=null,e(null)},i.onload=function(){i.onload=null,i.onerror=null,e({width:i.naturalWidth,height:i.naturalHeight})},i.src=t};g.initImage=function(t){},g.loadImage=function(t,e){t.source.indexOf("?")<0?u.get(t.source,e):b(t.source,e)},g.initText=function(t){};var w=function(t,e){switch(t.verticalAlignment){case t.AlignTop:t._topPadding=0;break;case t.AlignBottom:t._topPadding=t.height-t.paintedHeight;break;case t.AlignVCenter:t._topPadding=(t.height-t.paintedHeight)/2}e["padding-top"]=t._topPadding,e.height=t.height-t._topPadding,t.style(e)};g.setText=function(t,e){t.element.setHtml(e,t)},g.layoutText=function(t){var e=t._context._textCanvasContext,i=t.wrapMode!==C.core.Text.NoWrap,o=t.element,n=(o.dom,t.textFormat===t.Html||0<=t.text.search(/[\<\&]/));if(!i&&null!==e&&!n){var r,a=t.font;r=a.pointSize?Math.round(96*a.pointSize/72):a.pixelSize,e.font=r+"px "+a.family;var s=e.measureText(t.text);return t.paintedWidth=s.width,t.paintedHeight=r*a.lineHeight,void w(t,{})}var c=o.removeChildren(t);i?t.style({height:"auto","padding-top":0}):t.style({width:"auto",height:"auto","padding-top":0});var l,h=o.fullWidth()+1,d=o.fullHeight()+1;h+1!==t.paintedWidth&&(t.paintedWidth=h),d+1!==t.paintedHeight&&(t.paintedHeight=d),l=i?{}:{width:t.width},w(t,l),o.appendChildren(c)},g.run=function(e,t){e.window.on("message",function(t){log("Context: received message from "+t.origin,t),e.message(t)}),e.window.on($manifest$expectRunContextEvent?"runContext":"load",function(){t()})},g.tick=function(t){t._styleCache.apply()};var x={width:"width",height:"height",x:"left",y:"top",viewX:"left",viewY:"top",opacity:"opacity",border:"border",radius:"border-radius",rotate:"transform",boxshadow:"box-shadow",transform:"transform",visible:"visibility",visibleInView:"visibility",background:"background",color:"color",backgroundImage:"background-image",font:"font"};return g.setAnimation=function(t,e,i){if(!g.capabilities.csstransitions||$manifest$cssDisableTransitions||i&&!i.cssTransition)return!1;var o=x[e];return void 0!==o&&function(t,e,i){var o=g,n=o.getPrefixedName("transition-property"),r=o.getPrefixedName("transition-delay"),a=o.getPrefixedName("transition-duration"),s=o.getPrefixedName("transition-timing-function"),c=t.element;c.forceLayout(),e=o.getPrefixedName(e)||e;var l=c._transitions,h=l[n]||[],d=l[a]||[],p=l[s]||[],u=l[r]||[],f=h.indexOf(e);return-1===f?i&&(h.push(e),d.push(i.duration+"ms"),p.push(i.easing),u.push(i.delay+"ms")):i&&i.active()?(d[f]=i.duration+"ms",p[f]=i.easing,u[f]=i.delay+"ms"):(h.splice(f,1),d.splice(f,1),p.splice(f,1),u.splice(f,1)),l[n]=h,l[a]=d,l[s]=p,l[r]=u,"orsay"!==t._context.system.os&&"netcast"!==t._context.system.os||(l["transition-property"]=h,l["transition-duration"]=d,l["transition-delay"]=u,l["transition-timing-function"]=p),t.style(l),!0}(t,o,i)},g.requestAnimationFrame=p.prefixed("requestAnimationFrame",window)||function(t){return setTimeout(t,0)},g.cancelAnimationFrame=p.prefixed("cancelAnimationFrame",window)||function(t){return clearTimeout(t)},g.enterFullscreenMode=function(t){try{return p.prefixed("requestFullscreen",t.dom)()}catch(t){log("enterFullscreenMode failed",t)}},g.exitFullscreenMode=function(){try{return window.Modernizr.prefixed("exitFullscreen",document)()}catch(t){log("exitFullscreenMode failed",t)}},g.inFullscreenMode=function(){return!!window.Modernizr.prefixed("fullscreenElement",document)},g.ajax=function(t,e){var i=e.url,o=e.error,n=e.headers,r=e.done,a=e.settings,s=new XMLHttpRequest;for(var c in null!=e.responseType&&(s.responseType=e.responseType),void 0!==e.withCredentials&&(s.withCredentials=e.withCredentials),o&&s.addEventListener("error",o),r&&s.addEventListener("load",r),s.open(e.method||"GET",i),a)s[c]=a[c];for(var c in n)s.setRequestHeader(c,n[c]);e.data?s.send(e.data):s.send()},g.fingerprint=function(t,e){var i=g;try{var o=i.createElement(t,"canvas");o.dom.width=2e3,o.dom.height=32;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ /0123456789 abcdefghijklmnopqrstuvwxyz £©µÀÆÖÞßéöÿ –—‘“”„†•…‰™œŠŸž€ ΑΒΓΔΩαβγδω АБВГДабвгд ∀∂∈ℝ∧∪≡∞ ↑↗↨↻⇣ ┐┼╔╘░►☺♀ ﬁ�⑀₂ἠḂӥẄɐː⍎אԱა",r=o.dom.getContext("2d");r.textBaseline="top",r.font="20px 'Arial'",r.textBaseline="alphabetic",r.fillStyle="#fedcba",r.fillRect(0,0,2e3,32),r.fillStyle="#12345678",r.fillText(n,1.5,23.5,2e3),r.font="19.5px 'Arial'",r.fillStyle="#789abcde",r.fillText(n,1,22,2e3),e.update(o.dom.toDataURL())}catch(t){log("canvas test failed: "+t)}try{e.update(window.navigator.userAgent)}catch(t){log(t)}try{e.update(window.navigator.plugins)}catch(t){log(t)}try{e.update(window.navigator.mimeTypes)}catch(t){log(t)}try{e.update(window.navigator.language)}catch(t){log(t)}try{e.update(window.navigator.platform)}catch(t){log(t)}try{e.update(window.navigator.product)}catch(t){log(t)}try{e.update(window.navigator.productSub)}catch(t){log(t)}try{e.update(window.navigator.vendorSub)}catch(t){log(t)}try{e.update(window.navigator.hardwareConcurrency)}catch(t){log(t)}try{e.update(window.screen.availWidth)}catch(t){log(t)}try{e.update(window.screen.availHeight)}catch(t){log(t)}try{e.update(window.screen.colorDepth)}catch(t){log(t)}},g}(),C.html5.cache=function(){var t={},o=function(){return Math.floor((new Date).getTime()/1e3)},n=function(){this.created=o(),this.waiters=[],this.invoker=null};n.prototype.expired=function(t){return o()-this.created>=t},n.prototype.set=function(t){this.created=o();for(var e=this.invoker=C.core.safeCall(null,[t],function(t){log("cache entry callback failed: ",t,t.stack)});this.waiters.length;){var i=this.waiters;this.waiters=[],i.forEach(e)}this.waiters=null},n.prototype.wait=function(t){null!==this.invoker?this.invoker(t):this.waiters.push(t)};var e=function(t,e){if(!t)throw new Error("create callback is required");this._create=t,this._ttl=e||3600,this._cache={},setInterval(this.cleanup.bind(this),this._ttl/2*1e3)};return e.prototype.get=function(t,e){var i=this._cache[t];(void 0===i||i.expired(this._ttl))&&(this._cache[t]=i=new n,this._create(t,function(t){i.set(t)})),i.wait(e)},e.prototype.cleanup=function(){for(var t in this._cache){this._cache[t].expired(this._ttl)&&delete this._cache[t]}},t.Cache=e,t}(),C.html5.location=(Co={},(Po=function(t){this._ui=t;var e=window.location;this.updateActualValues();var i=this,o=t._context;o.window.on("hashchange",function(){i._ui.hash=e.hash}.bind(this)),o.window.on("popstate",function(){i.updateActualValues()}.bind(this))}).prototype.updateActualValues=function(){var t=this._ui,e=t._context.window.dom;t.hash=e.location.hash,t.href=e.location.href,t.port=e.location.port,t.host=e.location.host,t.origin=e.location.origin,t.hostname=e.location.hostname,t.pathname=e.location.pathname,t.protocol=e.location.protocol,t.search=e.location.search,t.state=e.history.state},Po.prototype.changeHref=function(t){this._ui._context.window.dom.location.href=t,this.updateActualValues()},Po.prototype.pushState=function(t,e,i){var o=this._ui,n=o._context.window.dom;n.location.hostname?(n.history.pushState(t,e,i),this.updateActualValues()):(o._context.document.title=e,this._ui.state=t)},Co.createLocation=function(t){return new Po(t)},Co.Location=Po,Co),C.video.html5.backend=(So={},(ko=function(t){var e=t._context.createElement("video");e.dom.preload="metadata",this.element=e,this.ui=t,this.setEventListeners(),t.element.remove(),t.element=e,t.parent.element.append(t.element),this._xhr=new XMLHttpRequest,this._xhr.addEventListener("load",t._context.wrapNativeCallback(this.parseManifest).bind(this))}).prototype.dispose=function(){var t=this.ui;if(t){var e=t.element;e&&(e.remove(),t.element=null)}},ko.prototype.setEventListeners=function(){var t=this.element,e=t.dom,i=this.ui;t.on("play",function(){i.waiting=!1,i.paused=e.paused}.bind(i)),t.on("pause",function(){i.paused=e.paused}.bind(i)),t.on("ended",function(){i.finished()}.bind(i)),t.on("seeked",function(){log("seeked"),i.seeking=!1,i.waiting=!1}.bind(i)),t.on("canplay",function(){log("canplay",e.readyState),i.ready=e.readyState}.bind(i)),t.on("seeking",function(){log("seeking"),i.seeking=!0,i.waiting=!0}.bind(i)),t.on("waiting",function(){log("waiting"),i.waiting=!0}.bind(i)),t.on("stalled",function(){log("Was stalled",e.networkState),i.stalled=!0}.bind(i)),t.on("emptied",function(){log("Was emptied",e.networkState)}.bind(i)),t.on("volumechange",function(){i.muted=e.muted}.bind(i)),t.on("canplaythrough",function(){log("ready to play"),i.paused=e.paused}.bind(i)),t.on("suspend",function(){log("suspended"),i.paused=!0}),t.on("error",function(){if(log("Player error occurred",e.error,"src",i.source),e.error&&i.source)switch(i.error(e.error),log("player.error",e.error),e.error.code){case 1:log("MEDIA_ERR_ABORTED error occurred");break;case 2:log("MEDIA_ERR_NETWORK error occurred");break;case 3:log("MEDIA_ERR_DECODE error occurred");break;case 4:log("MEDIA_ERR_SRC_NOT_SUPPORTED error occurred");break;default:log("UNDEFINED error occurred")}}.bind(i)),t.on("timeupdate",function(){i.waiting=!1,i.stalled=!1,i.seeking||(i.progress=e.currentTime)}.bind(i)),t.on("durationchange",function(){var t=e.duration;log("Duration",t),i.duration=isFinite(t)?t:0}.bind(i)),t.on("progress",function(){var t=e.buffered.length-1;i.waiting=!1,0<=t&&(i.buffered=e.buffered.end(t)-e.buffered.start(t))}.bind(i)),this.setOption("autoplay",i.autoPlay)},ko.prototype.parseManifest=function(t){var e=t.target.responseText.split("\n"),i=this.ui.source,o=i.substring(0,i.lastIndexOf("/")+1),n=0;this._videoTracks=[{name:"auto",url:this.ui.source,id:n}],this._totalTracks={},this._audioTracksInfo=[];for(var r=0;r<e.length-1;++r){var a=e[r],s=e[r+1];if(0==a.indexOf("#EXT-X-STREAM-INF")){for(var c=a.split(","),l={url:0===s.indexOf("http")?s:o+s},h=0;h<c.length;++h)if(1<(f=c[h].split("=")).length)switch(f[0].trim().toLowerCase()){case"bandwidth":l.bandwidth=f[1].trim();break;case"audio":l.audio=f[1].trim().replace(/"/g,"");break;case"resolution":var d=f[1].split("x");l.width=d[0],l.height=d[1]}var p=l.width+"x"+l.height;this._totalTracks[p]||(this._totalTracks[p]=[]),this._totalTracks[p].push(l)}else if(0==a.indexOf("#EXT-X-MEDIA:TYPE=AUDIO")){c=a.split(",");var u={};for(h=0;h<c.length;++h){var f;if(1<(f=c[h].split("=")).length)switch(f[0].trim().toLowerCase()){case"group-id":u.id=f[1].trim().replace(/"/g,"");break;case"name":u.label=f[1].trim().replace(/"/g,"");break;case"language":u.language=f[1].trim().replace(/"/g,"");break;case"uri":u.url=f[1].trim()}}this._audioTracksInfo.push(u)}}for(var r in this._totalTracks){var g=this._totalTracks[r][0];g.id=++n,this._videoTracks.push(g)}},ko.prototype.getFileExtension=function(t){if(!t)return"";var e=t.toLowerCase(),i=t.indexOf("?");0<=i&&(e=e.substring(0,i));var o=e.lastIndexOf(".");return e.substring(o,e.length)},ko.prototype.setSource=function(t){this.ui.ready=!1,this._extension=this.getFileExtension(t),t&&this._xhr&&(".m3u8"===this._extension||".m3u"===this._extension)&&(this._xhr.open("GET",t),this._xhr.send());var e=t;this.ui.startPosition&&(e+="#t="+this.ui.startPosition),this.element.dom.src=e},ko.prototype.play=function(){this.element.dom.play()},ko.prototype.pause=function(){this.element.dom.pause()},ko.prototype.stop=function(){this.pause()},ko.prototype.seek=function(t){this.element.dom.currentTime+=t},ko.prototype.seekTo=function(t){this.element.dom.currentTime=t},ko.prototype.setVolume=function(t){this.element.dom.volume=t},ko.prototype.setMute=function(t){this.element.dom.muted=t},ko.prototype.setLoop=function(t){this.element.dom.loop=t},ko.prototype.setOption=function(t,e){"autoplay"===t?e?this.element.dom.setAttribute("autoplay",""):this.element.dom.removeAttribute("autoplay"):this.element.dom.setAttribute(t,e)},ko.prototype.setRect=function(t,e,i,o){},ko.prototype.setVisibility=function(t){log("VISIBILITY LOGIC MISSING HERE, visible:",t)},ko.prototype.setupDrm=function(t,e,i,o){log("Not implemented")},ko.prototype.getAudioTracks=function(){return log("Not implemented"),[]},ko.prototype.getVideoTracks=function(){return this._videoTracks||[]},ko.prototype.getAudioTracks=function(){for(var t=this.element.dom.audioTracks,e=[],i=0;i<t.length;++i){var o=t[i],n=this._audioTracksInfo[i];e.push({id:i,name:o.label?o.label:n.name,language:o.language?o.language:n.language})}return log("getAudioTracks",e),e},ko.prototype.setAudioTrack=function(t){var e=this.element.dom.audioTracks;if(t<0||t>=e.length)log("Where is no track",t);else{log("Set audio track",e[t]);for(var i=0;i<e.length;++i)e[i].enabled=i===t}},ko.prototype.setVideoTrack=function(t){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(t<0||t>=this._videoTracks.length)log("Track with id",t,"not found");else{this.ui.waiting=!0;var e=this.ui.progress;log("Set video",this._videoTracks[t]),this.element.dom.src=this._videoTracks[t].url,this.seekTo(e)}},ko.prototype.setVideoTrack=function(t){if(!this._videoTracks||this._videoTracks.length<=0)log("There is no available video track",this._videoTracks);else if(t<0||t>=this._videoTracks.length)log("Track with id",t,"not found");else{this.ui.waiting=!0;var e=this.ui.progress;log("Set video",this._videoTracks[t]),this.element.dom.src=this._videoTracks[t].url,this.seekTo(e)}},ko.prototype.setBackgroundColor=function(t){var e=C.core.Color;this.element.dom.style.backgroundColor=new e(t).rgba()},So.createPlayer=function(t){return new ko(t)},So.probeUrl=function(t){return 50},So.Player=ko,So),C.tizen.device=(Ao={},(Oo=function(t){if(window.tizen){this._ui=t;var e=window.tizen.systeminfo.getCapability("http://tizen.org/system/tizenid");e||(e="tizen_"+Math.random().toString(36).substr(2,9)),t.deviceId=e,window.tizen.systeminfo.getPropertyValue("BUILD",this.fillDeviceInfo.bind(this),function(t){log("Failed to get devceinfo",t)});var i=window.webapis;i&&i.avinfo?t.supportingHdr=i.avinfo.isHdrTvSupport():log("ERROR: webapis is undefined");var o=window.navigator?window.navigator.userAgent:"";if(o){var n=(o=o.toLowerCase()).indexOf("tizen"),r=o.indexOf(";",n),a=o.indexOf(")",n),s=-1<r&&r<a?r:a<0?o.length-1:a;t.sdk=o.substring(n+6,s)}i&&i.productinfo&&(t.supportingUhd=i.productinfo.isUdPanelSupported())}else log("'window.tizen' not defined")}).prototype.getDeviceProperty=function(t){t?(this._ui.modelName=t.model,this._ui.firmware=t.buildVersion):log("Device info is null")},Oo.prototype.fillDeviceInfo=function(t){if(t){var e=this._ui;e.modelName=t.model,e.firmware=t.buildVersion}else log("Device info is null")},Ao.createDevice=function(t){return new Oo(t)},Ao.Device=Oo,Ao),C.tizen.video=(Io={},(To=function(e){var t=e._context.createElement("object");if(t.dom.setAttribute("id","av-player"),t.dom.setAttribute("type","application/avplayer"),window.webapis){this._webapis=window.webapis,log("WEBAPIS",this._webapis),(this.ui=e).element.remove(),e.element=t,e.parent.element.append(e.element);var n=this,i=e._context;this._listener={onbufferingstart:this.wrapCallback(function(){log("onbufferingstart"),n.ui.waiting=!0,n.ui.seeking=!0}),onbufferingprogress:this.wrapCallback(function(t){log("onbufferingprogress"),i._processActions()}),onbufferingcomplete:this.wrapCallback(function(){log("onbufferingcomplete"),n.ui.seeking=!1,n.ui.waiting=!1}),oncurrentplaytime:this.wrapCallback(function(t){n.ui.ready=!0,n.updateCurrentTime(t)}),onevent:this.wrapCallback(function(t,e){log("event type: "+t+", data: "+e)}),onerror:this.wrapCallback(function(t){log("error type: "+t),n.ui.ready=!1,n.ui.error({type:t,message:t})}),onsubtitlechange:this.wrapCallback(function(t,e,i,o){log("Subtitle Changed."),n.ui.text(e,t,o)}),ondrmevent:this.wrapCallback(function(t,e){log("DRM callback: "+t+", data: "+JSON.stringify(e)),n.getAVPlay().setDrm("PLAYREADY","InstallLicense",JSON.stringify(n._drmParam))}),onstreamcompleted:this.wrapCallback(function(t){if(e.progress<e.duration-1)return log("Unexpected ending error occured"),void n.ui.error({type:"PLAYER_ERROR_UNEXPECTED_ENDING",message:"Unexpected ending. Progress is "+e.progress+" but duration is "+e.duration});n.ui.loop?(log("Video is looped play it again"),n.getAVPlay().seekTo(0)):(log("Stream Completed"),n.ui.ready=!1,n.ui.finished())})};var o=window.tizen;o&&o.systeminfo&&o.systeminfo.getPropertyValue("BUILD",this.fillDeviceInfo.bind(this))}else log('"webapis" is undefined, maybe <script src="$WEBAPIS/webapis/webapis.js"><\/script> is missed.')}).prototype.fillDeviceInfo=function(t){if(log("Fill deviceinfo in player",t),t&&t.model){var e=t.model.toLowerCase(),i=window.webapis;if(log("Device modelName",e),i&&i.productinfo)this._uhdSupported=i.productinfo.isUdPanelSupported();else{log("productinfo is undefined try to retrive UHD support flag from modelname");var o=function(t){return 0<=e.indexOf(t)};this._uhdSupported=o("mu")||o("ks")||o("ku")||o("hu")}}else this._uhdSupported=!1},To.prototype.wrapCallback=function(t){return this.ui._context.wrapNativeCallback(t)},To.prototype.getAVPlay=function(){var t=this._webapis;return t&&t.avplay?t.avplay:null},To.prototype.setSource=function(t){log("src",t),this.ui.ready=!1,log("drmRequired",this._drmRequired),this._drmRequired&&this._drm?this._drmRequired=!1:this._drm=null,this.playImpl()},To.prototype.playImpl=function(){var e=this.getAVPlay();if(e){var i=this.ui;if(i.source){var t=e.getState();if(log("playImpl",t,"src",i.source),"NONE"!=t&&this.closeVideo(),log("playImpl",i.source,"state",t),i.duration=0,log("playImpl open"),e.open(i.source),log("playImpl setListener"),e.setListener(this._listener),log("Init player, src:",i.source,"width:",i.width,"height:",i.height),log("DRM:",this._drm),this._drm){log("Apply DRM:",this._drm);var o=this._drm;if(o.widevine){var n=window.webapis.drminfo.getEsn("WIDEVINE"),r=o.widevine.laServer;this._drmParam="DEVICE_ID="+n+"|DEVICE_TYPE_ID=60|STREAM_ID=|IP_ADDR=|DRM_URL="+r+"|PORTAL=OEM|I_SEEK=|CUR_TIME=|USER_DATA=",e.setStreamingProperty("WIDEVINE",this._drmParam),e.setDrm("WIDEVINE","SetProperties",JSON.stringify(this._drmParam))}else o.playready&&(this._drmParam={LicenseServer:o.playready.laServer},e.setDrm("PLAYREADY","SetProperties",JSON.stringify(this._drmParam)))}e.setDisplayRect(i.x,i.y,i.width,i.height),log("Set UHD flag",this._uhdSupported,"allowUhdPlaying",i.allowUhdPlaying,"startPos",i.startPosition),e.setStreamingProperty("SET_MODE_4K",i.allowUhdPlaying&&this._uhdSupported?"TRUE":"FALSE"),i.startPosition&&e.seekTo(1e3*i.startPosition,function(){log("seeked on start")},function(t){log("failed to seek on start",t)}),log("playImpl prepare");var a=this;e.prepareAsync(function(){log("Current state: "+e.getState()),log("prepare complete source",i.source),a.updateDuration();var t="READY"===e.getState();i.autoPlay&&a.play(),log("prepare complete",i.ready,"autoplay",i.autoPlay),i.ready=t})}}else log("AVPlay was not initialized")},To.prototype.play=function(){var t=this.getAVPlay();if(t){log("Play Video",this.ui.source);try{t.play(),this.ui.paused="PAUSED"==t.getState(),log("Current state: "+t.getState())}catch(t){log(t)}}else log("AVPlay was not initialized")},To.prototype.setupDrm=function(t,e,i,o){"widevine"===t?(this._drm={},this._drm.widevine=e):"playready"===t?(this._drm={},this._drm.playready=e):o?o(new Error("Unkbown or not supported DRM type "+t)):log("Unkbown or not supported DRM type "+t),this.getAVPlay(),this._drm,log("Apply DRM:",this._drm),i&&i()},To.prototype.getVideoTracks=function(){for(var t=[{name:"auto",id:"auto"}],e=this.getAVPlay().getTotalTrackInfo(),i=0;i<e.length;++i){var o=e[i];if("VIDEO"===o.type){var n=JSON.parse(o.extra_info);t.push({id:parseInt(o.index),width:parseInt(n.Width),height:parseInt(n.Height)})}}return t},To.prototype.getSubtitles=function(){for(var t=[],e=this.getAVPlay().getTotalTrackInfo(),i=0;i<e.length;++i){var o=e[i];if("TEXT"===o.type){var n=JSON.parse(o.extra_info);t.push({id:parseInt(o.index),language:n.track_lang})}}return log("Got subtitles",t),t},To.prototype.getAudioTracks=function(){for(var t=[],e=this.getAVPlay().getTotalTrackInfo(),i=0;i<e.length;++i){var o=e[i];if("AUDIO"===o.type){var n=JSON.parse(o.extra_info);t.push({id:parseInt(o.index),language:n.language,bitRate:parseInt(n.bit_rate),codec:n.fourCC})}}return t},To.prototype.setSubtitles=function(e){var t=this.getAVPlay(),i=t.getTotalTrackInfo().filter(function(t){return parseInt(t.index)===e});log("Try to set subtitles",i),i&&i.length&&t.setSelectTrack("TEXT",parseInt(i[0].index))},To.prototype.setAudioTrack=function(e){var t=this.getAVPlay(),i=t.getTotalTrackInfo().filter(function(t){return parseInt(t.index)===e});log("Try to set audio track",i),i&&i.length&&(log("Seek after audio state",t.getState()),t.setSelectTrack("AUDIO",parseInt(i[0].index)),this.seek(1))},To.prototype.setVideoTrack=function(e){log("setVideoTrack for",e);var t=this.getAVPlay(),i=t.getTotalTrackInfo();if(log("Total tracks",i),"auto"===e){var o="BITRATES=5000~50000|STARTBITRATE=HIGHEST|SKIPBITRATE=LOWEST";try{t.setStreamingProperty("ADAPTIVE_INFO",o)}catch(t){log("Failed to cahgne bitrate",t)}}else{var n=i.filter(function(t){return parseInt(t.index)===e});if(log("Found",n),!n||!n.length)return;var r=JSON.parse(n[0].extra_info);o="BITRATES=5000~"+r.Bit_rate+"|STARTBITRATE=HIGHEST|SKIPBITRATE=LOWEST",log("Found info",o,"INFO",r);try{t.setStreamingProperty("ADAPTIVE_INFO",o)}catch(t){log("Failed to cahgne bitrate",t)}}var a=this.ui.progress;t.close(),this.playImpl(),12<a&&this.seekTo(a)},To.prototype.setVisibility=function(t){var e=this.getAVPlay();if(e){if(log("setVisibility",t,"state",e.getState()),!t)try{e.suspend()}catch(t){log("Failed to suspend avplay",t)}}else log("AVPlay was not initialized")},To.prototype.pause=function(){var t=this.getAVPlay();if(t){log("Pause Video",t);try{t.pause(),this.ui.paused="PAUSED"==t.getState(),log("Current state: "+t.getState())}catch(t){log(t)}}else log("AVPlay was not initialized")},To.prototype.stop=function(){var e=this.getAVPlay();if(e){log("Current state: "+e.getState()),log("Stop Video");try{e.stop(),log("Current state: "+e.getState())}catch(t){log("Current state: "+e.getState()),log(t)}}else log("AVPlay was not initialized")},To.prototype.seek=function(t){this.seekTo(this.ui.progress+t)},To.prototype.seekTo=function(t){var e=this.getAVPlay();e?(log("Seek to",t,this.ui.progress),this.ui.seeking=!0,this.ui.progress=t,e.seekTo(1e3*t)):log("AVPlay was not initialized")},To.prototype.setVolume=function(t){log("Not implemented")},To.prototype.setMute=function(t){log("Not implemented")},To.prototype.setRect=function(t,e,i,o){var n=this.getAVPlay();n?n.setDisplayRect(t,e,i-t,o-e):log("AVPlay was not initialized")},To.prototype.setBackgroundColor=function(t){log("Not implemented")},To.prototype.setLoop=function(t){log("Not implemented")},To.prototype.closeVideo=function(){var e=this.getAVPlay();if(e){log("Current state: "+e.getState()),log("Close Video");try{e.close(),log("Current state: "+e.getState())}catch(t){log("Current state: "+e.getState()),log(t)}}else log("AVPlay was not initialized")},To.prototype.updateDuration=function(){var t=this.getAVPlay();t?(this.ui.duration=t.getDuration()/1e3,log("Duration",this.ui.duration)):log("AVPlay was not initialized")},To.prototype.setOption=function(t,e){},To.prototype.updateCurrentTime=function(){var t=this.getAVPlay();t?this.ui.progress=t.getCurrentTime()/1e3:log("AVPlay was not initialized")},Io.createPlayer=function(t){return new To(t)},Io.probeUrl=function(t){return 75},Io),C.controls.pure.format={currency:function(t,e,i){var o="\\d(?=(\\d{"+(i||3)+"})+"+(0<e?"\\.":"$")+")";return t.toFixed(Math.max(0,~~e)).replace(new RegExp(o,"g"),"$&,")},format:function(){var t=[].slice.call(arguments),e=t.shift();return t.reduce(function(t,e){return t.replace("%s",e)},e)}},i}(),l10n={},context=qml._context=new qml.core.Context(null,!1,{id:"qml-context-app",l10n:l10n,nativeContext:null});context.init(),context.start(new qml.src.UiApp(context)),context.run();
